{% extends 'core/admin_base.html' %}
{% load static %}

{% block title %}Library Settings - Library Management System{% endblock %}
{% block breadcrumb_title %}Settings{% endblock %}
{% block page_title %}Library Settings{% endblock %}

{% block page_actions %}
<div class="d-flex align-items-center">
    <div class="me-3">
        <span class="badge" style="background-color: #138808; font-weight: normal;">
            <i class="fas fa-check-circle me-1"></i> Last updated: Today, 14:30
        </span>
    </div>
    <button type="submit" form="library-settings-form" class="admin-pro-btn admin-pro-btn-primary" style="background-color: #FF9933; border-color: #FF9933;">
        <i class="fas fa-save"></i> Save Changes
    </button>
    <button type="button" class="admin-pro-btn admin-pro-btn-outline ms-2" id="resetSettingsBtn" style="border-color: #138808; color: #138808;">
        <i class="fas fa-undo"></i> Reset Changes
    </button>
    <div class="dropdown ms-2">
        <button class="admin-pro-btn admin-pro-btn-outline dropdown-toggle" type="button" id="settingsActionsDropdown" data-bs-toggle="dropdown" aria-expanded="false" style="border-color: #000080; color: #000080;">
            <i class="fas fa-ellipsis-v"></i>
        </button>
        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="settingsActionsDropdown">
            <li><a class="dropdown-item" href="#"><i class="fas fa-print me-2"></i> Print Settings</a></li>
            <li><a class="dropdown-item" href="#"><i class="fas fa-download me-2"></i> Export Settings</a></li>
            <li><hr class="dropdown-divider"></li>
            <li><a class="dropdown-item" href="#"><i class="fas fa-question-circle me-2"></i> Get Help</a></li>
        </ul>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<style>
    /* Indian-inspired color variables */
    :root {
        --indian-saffron: #FF9933;
        --indian-white: #FFFFFF;
        --indian-green: #138808;
        --indian-navy: #000080;
        --indian-peacock: #50C878;
        --indian-lotus: #FFC0CB;
        --indian-gold: #FFD700;
        --indian-spice-red: #A02A2F;
    }

    /* Decorative border inspired by Indian patterns */
    .indian-decorative-border {
        position: relative;
    }

    .indian-decorative-border::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 6px;
        background: repeating-linear-gradient(
            90deg,
            var(--indian-saffron),
            var(--indian-saffron) 15px,
            var(--indian-white) 15px,
            var(--indian-white) 30px,
            var(--indian-green) 30px,
            var(--indian-green) 45px
        );
        border-top-left-radius: 8px;
        border-top-right-radius: 8px;
    }

    /* Settings container */
    .settings-container {
        background-color: var(--bs-white);
        border-radius: 12px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.05);
        overflow: hidden;
    }

    /* Sidebar styling with Indian-inspired colors */
    .settings-sidebar {
        background-color: var(--bs-gray-100);
        height: 100%;
        border-right: 1px solid var(--bs-gray-200);
    }

    .settings-nav-item {
        display: flex;
        align-items: center;
        padding: 15px 20px;
        color: var(--bs-gray-700);
        text-decoration: none;
        border-left: 3px solid transparent;
        transition: all 0.3s ease;
        margin-bottom: 5px;
    }

    .settings-nav-item:hover {
        background-color: rgba(255, 153, 51, 0.05);
        color: var(--indian-saffron);
    }

    .settings-nav-item.active {
        background-color: rgba(255, 153, 51, 0.1);
        color: var(--indian-saffron);
        border-left-color: var(--indian-saffron);
        font-weight: 500;
    }

    .settings-nav-icon {
        width: 24px;
        height: 24px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 15px;
        color: inherit;
    }

    .settings-nav-badge {
        margin-left: auto;
        background-color: var(--indian-saffron);
        color: white;
        font-size: 10px;
        padding: 2px 6px;
        border-radius: 10px;
    }

    .settings-content {
        padding: 30px;
    }

    .settings-section {
        margin-bottom: 40px;
    }

    .settings-section:last-child {
        margin-bottom: 0;
    }

    /* Section titles with Indian-inspired styling */
    .settings-section-title {
        font-size: 18px;
        font-weight: 600;
        margin-bottom: 20px;
        color: var(--indian-navy);
        padding-bottom: 10px;
        border-bottom: 1px solid var(--indian-saffron);
        position: relative;
    }

    .settings-section-title::after {
        content: "";
        position: absolute;
        bottom: -1px;
        left: 0;
        width: 50px;
        height: 3px;
        background-color: var(--indian-green);
    }

    /* Image container with Indian-inspired styling */
    .settings-image-container {
        width: 150px;
        height: 150px;
        border-radius: 10px;
        overflow: hidden;
        margin-bottom: 15px;
        position: relative;
        border: 2px dashed var(--indian-saffron);
        background-color: rgba(255, 153, 51, 0.05);
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .settings-image-container:hover {
        border-color: var(--indian-green);
    }

    .settings-image-container img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .settings-image-placeholder {
        font-size: 48px;
        color: var(--indian-saffron);
    }

    .settings-image-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        display: flex;
        align-items: center;
        justify-content: center;
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .settings-image-container:hover .settings-image-overlay {
        opacity: 1;
    }

    .settings-image-overlay-text {
        color: white;
        font-size: 14px;
        font-weight: 500;
    }

    /* Form styling with Indian-inspired colors */
    .settings-form-group {
        margin-bottom: 25px;
    }

    .settings-label {
        font-weight: 500;
        margin-bottom: 8px;
        color: var(--indian-navy);
    }

    .settings-input {
        border-radius: 8px;
        padding: 12px 15px;
        border: 1px solid var(--bs-gray-300);
        transition: all 0.3s ease;
    }

    .settings-input:focus {
        border-color: var(--indian-saffron);
        box-shadow: 0 0 0 0.25rem rgba(255, 153, 51, 0.25);
    }

    /* Form controls with Indian-inspired styling */
    .form-control:focus, .form-select:focus {
        border-color: var(--indian-saffron);
        box-shadow: 0 0 0 0.25rem rgba(255, 153, 51, 0.25);
    }

    .form-check-input:checked {
        background-color: var(--indian-green);
        border-color: var(--indian-green);
    }

    /* Button styling with Indian flag colors */
    .btn-indian-saffron {
        background-color: var(--indian-saffron);
        border-color: var(--indian-saffron);
        color: white;
    }

    .btn-indian-saffron:hover {
        background-color: #e58a2e;
        border-color: #e58a2e;
        color: white;
    }

    .btn-indian-green {
        background-color: var(--indian-green);
        border-color: var(--indian-green);
        color: white;
    }

    .btn-indian-green:hover {
        background-color: #107206;
        border-color: #107206;
        color: white;
    }

    .btn-indian-navy {
        background-color: var(--indian-navy);
        border-color: var(--indian-navy);
        color: white;
    }

    .btn-indian-navy:hover {
        background-color: #000066;
        border-color: #000066;
        color: white;
    }

    /* Alert styling with Indian-inspired colors */
    .alert-indian-saffron {
        background-color: rgba(255, 153, 51, 0.1);
        border-left: 4px solid var(--indian-saffron);
        color: #663c00;
    }

    .alert-indian-green {
        background-color: rgba(19, 136, 8, 0.1);
        border-left: 4px solid var(--indian-green);
        color: #0a5a03;
    }

    .alert-indian-navy {
        background-color: rgba(0, 0, 128, 0.1);
        border-left: 4px solid var(--indian-navy);
        color: #000066;
    }

    /* Tab content animation */
    .tab-pane {
        animation: fadeIn 0.3s ease-in-out;
    }

    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(10px); }
        to { opacity: 1; transform: translateY(0); }
    }

    /* Decorative elements inspired by Indian patterns */
    .indian-pattern-divider {
        height: 20px;
        background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="12" viewBox="0 0 40 12"><path d="M0,6 C10,0 10,12 20,6 C30,0 30,12 40,6" fill="none" stroke="%23FF9933" stroke-width="1"/></svg>');
        background-repeat: repeat-x;
        margin: 20px 0;
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
        .settings-container {
            flex-direction: column;
        }

        .settings-sidebar {
            width: 100%;
            border-right: none;
            border-bottom: 1px solid var(--bs-gray-200);
        }

        .settings-nav {
            flex-direction: row;
            flex-wrap: wrap;
            justify-content: center;
        }

        .settings-nav-item {
            flex-direction: column;
            text-align: center;
            padding: 10px;
            border-left: none;
            border-bottom: 3px solid transparent;
        }

        .settings-nav-item.active {
            border-left-color: transparent;
            border-bottom-color: var(--indian-saffron);
        }

        .settings-nav-icon {
            margin-right: 0;
            margin-bottom: 8px;
        }

        .settings-nav-badge {
            position: absolute;
            top: 5px;
            right: 5px;
        }
    }
</style>
{% endblock %}

{% block content %}
<div class="admin-pro-settings-container fade-in-up">
    <div class="row">
        <!-- Settings Sidebar -->
        <div class="col-md-3 mb-4">
            <div class="admin-pro-card h-100">
                <div class="admin-pro-card-body p-0">
                    <div class="settings-sidebar">
                        <div class="p-3 border-bottom" style="background: linear-gradient(135deg, rgba(255, 153, 51, 0.1) 0%, rgba(19, 136, 8, 0.05) 100%);">
                            <h5 class="mb-0" style="color: #000080;">Settings</h5>
                            <p class="text-muted small mb-0">Configure your library</p>
                        </div>
                        <div class="settings-nav">
                            <a href="#general" class="settings-nav-item active" data-bs-toggle="tab" style="border-left-color: #FF9933;">
                                <div class="settings-nav-icon" style="color: #FF9933;">
                                    <i class="fas fa-cog"></i>
                                </div>
                                <span>General</span>
                            </a>
                            <a href="#contact" class="settings-nav-item" data-bs-toggle="tab">
                                <div class="settings-nav-icon" style="color: #138808;">
                                    <i class="fas fa-address-card"></i>
                                </div>
                                <span>Contact Information</span>
                            </a>
                            <a href="#regional" class="settings-nav-item" data-bs-toggle="tab">
                                <div class="settings-nav-icon" style="color: #000080;">
                                    <i class="fas fa-globe-asia"></i>
                                </div>
                                <span>Regional Settings</span>
                                <span class="settings-nav-badge" style="background-color: #FF9933;">New</span>
                            </a>
                            <a href="#appearance" class="settings-nav-item" data-bs-toggle="tab">
                                <div class="settings-nav-icon" style="color: #FF9933;">
                                    <i class="fas fa-palette"></i>
                                </div>
                                <span>Appearance</span>
                            </a>
                            <a href="#hours" class="settings-nav-item" data-bs-toggle="tab">
                                <div class="settings-nav-icon" style="color: #138808;">
                                    <i class="fas fa-clock"></i>
                                </div>
                                <span>Opening Hours</span>
                            </a>
                            <a href="#holidays" class="settings-nav-item" data-bs-toggle="tab">
                                <div class="settings-nav-icon" style="color: #FF9933;">
                                    <i class="fas fa-calendar-alt"></i>
                                </div>
                                <span>Holidays & Festivals</span>
                                <span class="settings-nav-badge" style="background-color: #138808;">New</span>
                            </a>
                            <a href="#policies" class="settings-nav-item" data-bs-toggle="tab">
                                <div class="settings-nav-icon" style="color: #000080;">
                                    <i class="fas fa-file-alt"></i>
                                </div>
                                <span>Library Policies</span>
                            </a>
                            <a href="#notifications" class="settings-nav-item" data-bs-toggle="tab">
                                <div class="settings-nav-icon" style="color: #138808;">
                                    <i class="fas fa-bell"></i>
                                </div>
                                <span>Notification Settings</span>
                            </a>
                            <a href="#languages" class="settings-nav-item" data-bs-toggle="tab">
                                <div class="settings-nav-icon" style="color: #FF9933;">
                                    <i class="fas fa-language"></i>
                                </div>
                                <span>Language Settings</span>
                                <span class="settings-nav-badge" style="background-color: #138808;">New</span>
                            </a>
                            <a href="#integrations" class="settings-nav-item" data-bs-toggle="tab">
                                <div class="settings-nav-icon" style="color: #000080;">
                                    <i class="fas fa-plug"></i>
                                </div>
                                <span>Integrations</span>
                                <span class="settings-nav-badge" style="background-color: #FF9933;">Pro</span>
                            </a>
                            <a href="#advanced" class="settings-nav-item" data-bs-toggle="tab">
                                <div class="settings-nav-icon" style="color: #138808;">
                                    <i class="fas fa-sliders-h"></i>
                                </div>
                                <span>Advanced</span>
                            </a>
                            <a href="#backup" class="settings-nav-item" data-bs-toggle="tab">
                                <div class="settings-nav-icon" style="color: #FF9933;">
                                    <i class="fas fa-database"></i>
                                </div>
                                <span>Backup & Restore</span>
                            </a>
                            <a href="#security" class="settings-nav-item" data-bs-toggle="tab">
                                <div class="settings-nav-icon" style="color: #000080;">
                                    <i class="fas fa-shield-alt"></i>
                                </div>
                                <span>Security</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Settings Content -->
        <div class="col-md-9">
            <div class="admin-pro-card indian-decorative-border">
                <div class="admin-pro-card-body">
                    <form id="library-settings-form" method="post" enctype="multipart/form-data">
                        {% csrf_token %}
                        <div class="tab-content">
                            <!-- General Settings -->
                            <div class="tab-pane fade show active" id="general">
                                <h4 class="admin-pro-settings-title" style="color: #FF9933; border-bottom-color: #FF9933;">General Settings</h4>
                                <div class="admin-pro-settings-section">
                                    <div class="alert" style="background-color: rgba(19, 136, 8, 0.1); border-left: 4px solid #138808;">
                                        <div class="d-flex">
                                            <div class="me-3">
                                                <i class="fas fa-info-circle fa-2x" style="color: #138808;"></i>
                                            </div>
                                            <div>
                                                <h5 style="color: #000080;">Basic Library Information</h5>
                                                <p class="mb-0">Set basic information for your library. This information will be displayed on your library's public profile.</p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row mb-4 mt-4">
                                        <div class="col-md-3">
                                            <div class="admin-pro-settings-image">
                                                {% if library.image %}
                                                    <img src="{{ library.image.url }}" alt="{{ library.name }}" class="img-fluid rounded">
                                                {% else %}
                                                    <div class="admin-pro-settings-image-placeholder" style="background-color: rgba(255, 153, 51, 0.1); border: 2px dashed #FF9933;">
                                                        <i class="fas fa-building" style="color: #FF9933;"></i>
                                                    </div>
                                                {% endif %}
                                                <div class="admin-pro-settings-image-upload mt-2">
                                                    <label for="image" class="admin-pro-btn admin-pro-btn-sm admin-pro-btn-outline w-100" style="border-color: #138808; color: #138808;">
                                                        <i class="fas fa-upload me-1"></i> Change Image
                                                    </label>
                                                    <input type="file" id="image" name="image" class="d-none">
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-9">
                                            <div class="mb-3">
                                                <label for="name" class="form-label">Library Name</label>
                                                <input type="text" class="form-control" id="name" name="name" value="{{ library.name }}" required>
                                                <div class="form-text">Enter the official name of your library.</div>
                                            </div>
                                            <div class="mb-3">
                                                <label for="name_hindi" class="form-label">Name in Hindi <span class="text-muted small">(Optional)</span></label>
                                                <input type="text" class="form-control" id="name_hindi" name="name_hindi" value="{{ library.name_hindi }}">
                                            </div>
                                            <div class="mb-3">
                                                <label for="description" class="form-label">Description</label>
                                                <textarea class="form-control" id="description" name="description" rows="3">{{ library.description }}</textarea>
                                            </div>
                                            <div class="mb-3">
                                                <label for="library_type" class="form-label">Library Type</label>
                                                <select class="form-select" id="library_type" name="library_type">
                                                    <option value="public" {% if library.type == 'public' %}selected{% endif %}>Public Library</option>
                                                    <option value="academic" {% if library.type == 'academic' %}selected{% endif %}>Academic Library</option>
                                                    <option value="school" {% if library.type == 'school' %}selected{% endif %}>School Library</option>
                                                    <option value="special" {% if library.type == 'special' %}selected{% endif %}>Special Library</option>
                                                    <option value="digital" {% if library.type == 'digital' %}selected{% endif %}>Digital Library</option>
                                                    <option value="community" {% if library.type == 'community' %}selected{% endif %}>Community Library</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label for="establishment_year" class="form-label">Establishment Year</label>
                                            <input type="number" class="form-control" id="establishment_year" name="establishment_year" value="{{ library.establishment_year }}" min="1800" max="2099">
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label for="registration_number" class="form-label">Registration Number</label>
                                            <input type="text" class="form-control" id="registration_number" name="registration_number" value="{{ library.registration_number }}">
                                            <div class="form-text">Government registration number, if applicable.</div>
                                        </div>
                                    </div>

                                    <div class="mb-3">
                                        <label for="tagline" class="form-label">Tagline</label>
                                        <input type="text" class="form-control" id="tagline" name="tagline" value="{{ library.tagline }}" placeholder="Example: 'Gates of knowledge, open for all'">
                                        <div class="form-text">A short phrase that represents your library's mission.</div>
                                    </div>

                                    <div class="indian-pattern-divider"></div>

                                    <div class="row">
                                        <div class="col-md-12">
                                            <div class="alert alert-indian-saffron">
                                                <div class="d-flex">
                                                    <div class="me-3">
                                                        <i class="fas fa-lightbulb fa-2x" style="color: #FF9933;"></i>
                                                    </div>
                                                    <div>
                                                        <h5 style="color: #000080;">Tip</h5>
                                                        <p class="mb-0">Use a good image and an attractive tagline to make your library more appealing. This will help create an identity for your library.</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Contact Information -->
                            <div class="tab-pane fade" id="contact">
                                <h4 class="admin-pro-settings-title" style="color: #138808; border-bottom-color: #138808;">Contact Information</h4>
                                <div class="admin-pro-settings-section">
                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label for="address" class="form-label">Address</label>
                                            <textarea class="form-control" id="address" name="address" rows="3" required>{{ library.address }}</textarea>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <div class="row">
                                                <div class="col-md-6 mb-3">
                                                    <label for="city" class="form-label">City</label>
                                                    <input type="text" class="form-control" id="city" name="city" value="{{ library.city }}" required>
                                                </div>
                                                <div class="col-md-6 mb-3">
                                                    <label for="state" class="form-label">State/Province</label>
                                                    <input type="text" class="form-control" id="state" name="state" value="{{ library.state }}" required>
                                                </div>
                                                <div class="col-md-6 mb-3">
                                                    <label for="postal_code" class="form-label">Postal Code</label>
                                                    <input type="text" class="form-control" id="postal_code" name="postal_code" value="{{ library.postal_code }}" required>
                                                </div>
                                                <div class="col-md-6 mb-3">
                                                    <label for="country" class="form-label">Country</label>
                                                    <input type="text" class="form-control" id="country" name="country" value="{{ library.country }}" required>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-4 mb-3">
                                            <label for="phone" class="form-label">Phone Number</label>
                                            <input type="tel" class="form-control" id="phone" name="phone" value="{{ library.phone }}" required>
                                        </div>
                                        <div class="col-md-4 mb-3">
                                            <label for="email" class="form-label">Email Address</label>
                                            <input type="email" class="form-control" id="email" name="email" value="{{ library.email }}" required>
                                        </div>
                                        <div class="col-md-4 mb-3">
                                            <label for="website" class="form-label">Website</label>
                                            <input type="url" class="form-control" id="website" name="website" value="{{ library.website }}">
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Regional Settings -->
                            <div class="tab-pane fade" id="regional">
                                <h4 class="admin-pro-settings-title" style="color: #000080; border-bottom-color: #000080;">Regional Settings</h4>
                                <div class="admin-pro-settings-section">
                                    <div class="alert" style="background-color: rgba(255, 153, 51, 0.1); border-left: 4px solid #FF9933;">
                                        <div class="d-flex">
                                            <div class="me-3">
                                                <i class="fas fa-info-circle fa-2x" style="color: #FF9933;"></i>
                                            </div>
                                            <div>
                                                <h5 style="color: #000080;">Indian Regional Settings</h5>
                                                <p class="mb-0">Configure Indian regional settings for your library. These settings will determine the local language, currency, and other regional options for your library.</p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row mt-4">
                                        <div class="col-md-6 mb-3">
                                            <label for="default_language" class="form-label">Default Language</label>
                                            <select class="form-select" id="default_language" name="default_language">
                                                <option value="en">English</option>
                                                <option value="hi">Hindi (हिन्दी)</option>
                                                <option value="bn">Bengali (বাংলা)</option>
                                                <option value="te">Telugu (తెలుగు)</option>
                                                <option value="mr">Marathi (मराठी)</option>
                                                <option value="ta">Tamil (தமிழ்)</option>
                                                <option value="gu">Gujarati (ગુજરાતી)</option>
                                                <option value="kn">Kannada (ಕನ್ನಡ)</option>
                                                <option value="ml">Malayalam (മലയാളം)</option>
                                                <option value="pa">Punjabi (ਪੰਜਾਬੀ)</option>
                                            </select>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label for="currency" class="form-label">Currency</label>
                                            <select class="form-select" id="currency" name="currency">
                                                <option value="INR" selected>₹ - Indian Rupee (INR)</option>
                                                <option value="USD">$ - US Dollar (USD)</option>
                                                <option value="EUR">€ - Euro (EUR)</option>
                                                <option value="GBP">£ - British Pound (GBP)</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-6 mb-3">
                                            <label for="date_format" class="form-label">Date Format</label>
                                            <select class="form-select" id="date_format" name="date_format">
                                                <option value="dd/mm/yyyy">DD/MM/YYYY (31/12/2023)</option>
                                                <option value="mm/dd/yyyy">MM/DD/YYYY (12/31/2023)</option>
                                                <option value="yyyy-mm-dd">YYYY-MM-DD (2023-12-31)</option>
                                                <option value="dd-mm-yyyy">DD-MM-YYYY (31-12-2023)</option>
                                            </select>
                                        </div>
                                        <div class="col-md-6 mb-3">
                                            <label for="time_format" class="form-label">Time Format</label>
                                            <select class="form-select" id="time_format" name="time_format">
                                                <option value="12" selected>12-hour (AM/PM)</option>
                                                <option value="24">24-hour</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="mb-4">
                                        <h5 class="admin-pro-settings-subtitle" style="color: #FF9933;">Indian Festival Calendar</h5>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="enable_festival_calendar" name="enable_festival_calendar" checked>
                                            <label class="form-check-label" for="enable_festival_calendar">
                                                Enable Indian festival calendar
                                            </label>
                                        </div>
                                        <p class="text-muted small">Automatically mark major Indian festivals and holidays in the library calendar.</p>

                                        <div class="mt-3">
                                            <label class="form-label">Festival Categories</label>
                                            <div class="row">
                                                <div class="col-md-4">
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="checkbox" id="national_holidays" name="festival_categories[]" value="national" checked>
                                                        <label class="form-check-label" for="national_holidays">
                                                            National Holidays
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="checkbox" id="religious_festivals" name="festival_categories[]" value="religious" checked>
                                                        <label class="form-check-label" for="religious_festivals">
                                                            Religious Festivals
                                                        </label>
                                                    </div>
                                                </div>
                                                <div class="col-md-4">
                                                    <div class="form-check">
                                                        <input class="form-check-input" type="checkbox" id="regional_festivals" name="festival_categories[]" value="regional" checked>
                                                        <label class="form-check-label" for="regional_festivals">
                                                            Regional Festivals
                                                        </label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="mb-4">
                                        <h5 class="admin-pro-settings-subtitle" style="color: #138808;">Indian Book Classification</h5>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="enable_indian_classification" name="enable_indian_classification">
                                            <label class="form-check-label" for="enable_indian_classification">
                                                Enable Indian book classification system
                                            </label>
                                        </div>
                                        <p class="text-muted small">Use specialized classification system for Indian books, including additional categories for Indian languages, literature, and subjects.</p>
                                    </div>
                                </div>
                            </div>

                            <!-- Appearance -->
                            <div class="tab-pane fade" id="appearance">
                                <h4 class="admin-pro-settings-title" style="color: #FF9933; border-bottom-color: #FF9933;">Appearance Settings</h4>
                                <div class="admin-pro-settings-section">
                                    <div class="alert" style="background-color: rgba(255, 153, 51, 0.1); border-left: 4px solid #FF9933;">
                                        <div class="d-flex">
                                            <div class="me-3">
                                                <i class="fas fa-palette fa-2x" style="color: #FF9933;"></i>
                                            </div>
                                            <div>
                                                <h5 style="color: #000080;">Customize Your Library's Look</h5>
                                                <p class="mb-0">Choose themes and color schemes for your library. Special themes inspired by Indian culture are available.</p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row mt-4">
                                        <div class="col-md-6 mb-4">
                                            <label class="form-label">Theme Color</label>
                                            <div class="admin-pro-color-options">
                                                <div class="form-check form-check-inline">
                                                    <input class="form-check-input" type="radio" name="theme_color" id="theme_tricolor" value="tricolor" checked>
                                                    <label class="form-check-label" for="theme_tricolor">
                                                        <span class="admin-pro-color-swatch" style="background: linear-gradient(to right, #FF9933 33%, #FFFFFF 33%, #FFFFFF 66%, #138808 66%);"></span>
                                                        Tricolor
                                                    </label>
                                                </div>
                                                <div class="form-check form-check-inline">
                                                    <input class="form-check-input" type="radio" name="theme_color" id="theme_saffron" value="saffron">
                                                    <label class="form-check-label" for="theme_saffron">
                                                        <span class="admin-pro-color-swatch" style="background-color: #FF9933;"></span>
                                                        Saffron
                                                    </label>
                                                </div>
                                                <div class="form-check form-check-inline">
                                                    <input class="form-check-input" type="radio" name="theme_color" id="theme_green" value="green">
                                                    <label class="form-check-label" for="theme_green">
                                                        <span class="admin-pro-color-swatch" style="background-color: #138808;"></span>
                                                        Green
                                                    </label>
                                                </div>
                                                <div class="form-check form-check-inline">
                                                    <input class="form-check-input" type="radio" name="theme_color" id="theme_navy" value="navy">
                                                    <label class="form-check-label" for="theme_navy">
                                                        <span class="admin-pro-color-swatch" style="background-color: #000080;"></span>
                                                        Navy
                                                    </label>
                                                </div>
                                                <div class="form-check form-check-inline">
                                                    <input class="form-check-input" type="radio" name="theme_color" id="theme_peacock" value="peacock">
                                                    <label class="form-check-label" for="theme_peacock">
                                                        <span class="admin-pro-color-swatch" style="background-color: #50C878;"></span>
                                                        Peacock
                                                    </label>
                                                </div>
                                                <div class="form-check form-check-inline">
                                                    <input class="form-check-input" type="radio" name="theme_color" id="theme_lotus" value="lotus">
                                                    <label class="form-check-label" for="theme_lotus">
                                                        <span class="admin-pro-color-swatch" style="background-color: #FFC0CB;"></span>
                                                        Lotus
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-6 mb-4">
                                            <label class="form-label">Default Mode</label>
                                            <div class="admin-pro-mode-options">
                                                <div class="form-check form-check-inline">
                                                    <input class="form-check-input" type="radio" name="default_mode" id="mode_light" value="light" checked>
                                                    <label class="form-check-label" for="mode_light">
                                                        <i class="fas fa-sun me-1"></i> Light Mode
                                                    </label>
                                                </div>
                                                <div class="form-check form-check-inline">
                                                    <input class="form-check-input" type="radio" name="default_mode" id="mode_dark" value="dark">
                                                    <label class="form-check-label" for="mode_dark">
                                                        <i class="fas fa-moon me-1"></i> Dark Mode
                                                    </label>
                                                </div>
                                                <div class="form-check form-check-inline">
                                                    <input class="form-check-input" type="radio" name="default_mode" id="mode_auto" value="auto">
                                                    <label class="form-check-label" for="mode_auto">
                                                        <i class="fas fa-adjust me-1"></i> Auto (System)
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-6 mb-4">
                                            <h5 class="admin-pro-settings-subtitle" style="color: #FF9933;">Special Themes</h5>
                                            <p class="text-muted small mb-3">Special themes inspired by Indian culture</p>

                                            <div class="card mb-3" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden;">
                                                <div class="card-header d-flex justify-content-between align-items-center" style="background-color: rgba(255, 153, 51, 0.1);">
                                                    <div>
                                                        <h6 class="mb-0">Rajasthani Theme</h6>
                                                    </div>
                                                    <div class="form-check form-switch">
                                                        <input class="form-check-input" type="checkbox" id="theme_rajasthani">
                                                    </div>
                                                </div>
                                                <div class="card-body">
                                                    <div class="d-flex">
                                                        <div style="width: 80px; height: 50px; background: linear-gradient(to right, #E6B54A, #A02A2F, #2D4B9A); margin-right: 15px; border-radius: 4px;"></div>
                                                        <div>
                                                            <p class="small mb-0">Theme inspired by Rajasthani culture with colorful and vibrant colors.</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="card mb-3" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden;">
                                                <div class="card-header d-flex justify-content-between align-items-center" style="background-color: rgba(19, 136, 8, 0.1);">
                                                    <div>
                                                        <h6 class="mb-0">Kerala Theme</h6>
                                                    </div>
                                                    <div class="form-check form-switch">
                                                        <input class="form-check-input" type="checkbox" id="theme_kerala">
                                                    </div>
                                                </div>
                                                <div class="card-body">
                                                    <div class="d-flex">
                                                        <div style="width: 80px; height: 50px; background: linear-gradient(to right, #006400, #FFFFFF, #C7B446); margin-right: 15px; border-radius: 4px;"></div>
                                                        <div>
                                                            <p class="small mb-0">Theme inspired by Kerala's lush nature and culture.</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="card mb-3" style="border: 1px solid #ddd; border-radius: 8px; overflow: hidden;">
                                                <div class="card-header d-flex justify-content-between align-items-center" style="background-color: rgba(0, 0, 128, 0.1);">
                                                    <div>
                                                        <h6 class="mb-0">Varanasi Theme</h6>
                                                    </div>
                                                    <div class="form-check form-switch">
                                                        <input class="form-check-input" type="checkbox" id="theme_varanasi">
                                                    </div>
                                                </div>
                                                <div class="card-body">
                                                    <div class="d-flex">
                                                        <div style="width: 80px; height: 50px; background: linear-gradient(to right, #FF9933, #FFC0CB, #FFD700); margin-right: 15px; border-radius: 4px;"></div>
                                                        <div>
                                                            <p class="small mb-0">Spiritual theme inspired by the ghats and culture of Varanasi.</p>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-md-6 mb-4">
                                            <h5 class="admin-pro-settings-subtitle" style="color: #138808;">Appearance Options</h5>

                                            <div class="mb-3">
                                                <label for="font_family" class="form-label">Font Family</label>
                                                <select class="form-select" id="font_family" name="font_family">
                                                    <option value="default" selected>Default</option>
                                                    <option value="noto_sans">Noto Sans</option>
                                                    <option value="poppins">Poppins</option>
                                                    <option value="hind">Hind</option>
                                                    <option value="tiro_devanagari">Tiro Devanagari</option>
                                                </select>
                                                <div class="form-text">Font family to be used for the interface.</div>
                                            </div>

                                            <div class="mb-3">
                                                <label for="border_radius" class="form-label">Border Radius</label>
                                                <select class="form-select" id="border_radius" name="border_radius">
                                                    <option value="default" selected>Medium</option>
                                                    <option value="small">Small</option>
                                                    <option value="large">Large</option>
                                                    <option value="rounded">Fully Rounded</option>
                                                </select>
                                            </div>

                                            <div class="form-check mb-3">
                                                <input class="form-check-input" type="checkbox" id="enable_animations" name="enable_animations" checked>
                                                <label class="form-check-label" for="enable_animations">
                                                    Enable animations
                                                </label>
                                            </div>

                                            <div class="form-check mb-3">
                                                <input class="form-check-input" type="checkbox" id="enable_decorative_elements" name="enable_decorative_elements" checked>
                                                <label class="form-check-label" for="enable_decorative_elements">
                                                    Show decorative elements
                                                </label>
                                                <div class="form-text">Show Indian decorative elements in page headers and footers.</div>
                                            </div>

                                            <div class="form-check mb-3">
                                                <input class="form-check-input" type="checkbox" id="high_contrast_mode" name="high_contrast_mode">
                                                <label class="form-check-label" for="high_contrast_mode">
                                                    High contrast mode
                                                </label>
                                                <div class="form-text">Better readability for users with visual impairments.</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Opening Hours -->
                            <div class="tab-pane fade" id="hours">
                                <h4 class="admin-pro-settings-title" style="color: #138808; border-bottom-color: #138808;">Opening Hours</h4>
                                <div class="admin-pro-settings-section">
                                    <div class="mb-3">
                                        <label for="opening_hours" class="form-label">Opening Hours</label>
                                        <textarea class="form-control" id="opening_hours" name="opening_hours" rows="7" placeholder="Monday: 9:00 AM - 6:00 PM&#10;Tuesday: 9:00 AM - 6:00 PM&#10;Wednesday: 9:00 AM - 6:00 PM&#10;Thursday: 9:00 AM - 6:00 PM&#10;Friday: 9:00 AM - 6:00 PM&#10;Saturday: 10:00 AM - 4:00 PM&#10;Sunday: Closed">{{ library.opening_hours }}</textarea>
                                    </div>
                                    <div class="form-check mb-3">
                                        <input class="form-check-input" type="checkbox" id="display_hours" name="display_hours" checked>
                                        <label class="form-check-label" for="display_hours">
                                            Display opening hours on library public page
                                        </label>
                                    </div>
                                </div>
                            </div>

                            <!-- Holidays & Festivals -->
                            <div class="tab-pane fade" id="holidays">
                                <h4 class="admin-pro-settings-title" style="color: #FF9933; border-bottom-color: #FF9933;">Holidays & Festivals</h4>
                                <div class="admin-pro-settings-section">
                                    <div class="alert" style="background-color: rgba(255, 153, 51, 0.1); border-left: 4px solid #FF9933;">
                                        <div class="d-flex">
                                            <div class="me-3">
                                                <i class="fas fa-info-circle fa-2x" style="color: #FF9933;"></i>
                                            </div>
                                            <div>
                                                <h5 style="color: #000080;">Indian Festivals and Holidays</h5>
                                                <p class="mb-0">Configure important Indian festivals and holidays for your library. The library will be closed or open at special hours on these days.</p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row mt-4">
                                        <div class="col-md-6">
                                            <h5 class="admin-pro-settings-subtitle" style="color: #FF9933;">Regular Holidays</h5>
                                            <p class="text-muted small mb-3">Festivals and holidays celebrated every year</p>

                                            <div class="table-responsive">
                                                <table class="table table-bordered">
                                                    <thead class="table-light">
                                                        <tr>
                                                            <th>Festival</th>
                                                            <th>Date</th>
                                                            <th>Status</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td>Republic Day</td>
                                                            <td>January 26</td>
                                                            <td>
                                                                <select class="form-select form-select-sm">
                                                                    <option value="closed" selected>Closed</option>
                                                                    <option value="limited">Limited Hours</option>
                                                                    <option value="open">Open</option>
                                                                </select>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>Independence Day</td>
                                                            <td>August 15</td>
                                                            <td>
                                                                <select class="form-select form-select-sm">
                                                                    <option value="closed" selected>Closed</option>
                                                                    <option value="limited">Limited Hours</option>
                                                                    <option value="open">Open</option>
                                                                </select>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>Gandhi Jayanti</td>
                                                            <td>October 2</td>
                                                            <td>
                                                                <select class="form-select form-select-sm">
                                                                    <option value="closed" selected>Closed</option>
                                                                    <option value="limited">Limited Hours</option>
                                                                    <option value="open">Open</option>
                                                                </select>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>Diwali</td>
                                                            <td>Variable</td>
                                                            <td>
                                                                <select class="form-select form-select-sm">
                                                                    <option value="closed" selected>Closed</option>
                                                                    <option value="limited">Limited Hours</option>
                                                                    <option value="open">Open</option>
                                                                </select>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>Holi</td>
                                                            <td>Variable</td>
                                                            <td>
                                                                <select class="form-select form-select-sm">
                                                                    <option value="closed" selected>Closed</option>
                                                                    <option value="limited">Limited Hours</option>
                                                                    <option value="open">Open</option>
                                                                </select>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>

                                            <button class="btn btn-sm mt-2" style="background-color: #FF9933; color: white;">
                                                <i class="fas fa-plus me-1"></i> Add More Festivals
                                            </button>
                                        </div>

                                        <div class="col-md-6">
                                            <h5 class="admin-pro-settings-subtitle" style="color: #138808;">Special Events</h5>
                                            <p class="text-muted small mb-3">Special library events and activities</p>

                                            <div class="card mb-3" style="border-left: 3px solid #138808;">
                                                <div class="card-body">
                                                    <div class="row g-2">
                                                        <div class="col-md-6">
                                                            <label class="form-label">Event Name</label>
                                                            <input type="text" class="form-control" value="National Book Week">
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label class="form-label">Date</label>
                                                            <input type="text" class="form-control" value="November 14-20, 2023">
                                                        </div>
                                                        <div class="col-12">
                                                            <label class="form-label">Description</label>
                                                            <textarea class="form-control" rows="2">Book exhibition, author talks, and story sessions for children</textarea>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="card mb-3" style="border-left: 3px solid #FF9933;">
                                                <div class="card-body">
                                                    <div class="row g-2">
                                                        <div class="col-md-6">
                                                            <label class="form-label">Event Name</label>
                                                            <input type="text" class="form-control" value="Hindi Diwas Celebration">
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label class="form-label">Date</label>
                                                            <input type="text" class="form-control" value="September 14, 2023">
                                                        </div>
                                                        <div class="col-12">
                                                            <label class="form-label">Description</label>
                                                            <textarea class="form-control" rows="2">Hindi literature exhibition and poetry recitation</textarea>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>

                                            <button class="btn btn-sm mt-2" style="background-color: #138808; color: white;">
                                                <i class="fas fa-plus me-1"></i> Add New Event
                                            </button>
                                        </div>
                                    </div>

                                    <div class="mt-4">
                                        <h5 class="admin-pro-settings-subtitle" style="color: #000080;">Library Calendar Settings</h5>
                                        <div class="row">
                                            <div class="col-md-6">
                                                <div class="form-check mb-2">
                                                    <input class="form-check-input" type="checkbox" id="display_calendar" name="display_calendar" checked>
                                                    <label class="form-check-label" for="display_calendar">
                                                        Display calendar on library public page
                                                    </label>
                                                </div>
                                                <div class="form-check mb-2">
                                                    <input class="form-check-input" type="checkbox" id="send_holiday_notifications" name="send_holiday_notifications" checked>
                                                    <label class="form-check-label" for="send_holiday_notifications">
                                                        Notify members about holidays
                                                    </label>
                                                </div>
                                            </div>
                                            <div class="col-md-6">
                                                <div class="form-check mb-2">
                                                    <input class="form-check-input" type="checkbox" id="extend_due_dates" name="extend_due_dates" checked>
                                                    <label class="form-check-label" for="extend_due_dates">
                                                        Automatically extend due dates during holidays
                                                    </label>
                                                </div>
                                                <div class="form-check mb-2">
                                                    <input class="form-check-input" type="checkbox" id="sync_with_google" name="sync_with_google">
                                                    <label class="form-check-label" for="sync_with_google">
                                                        Sync with Google Calendar
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Library Policies -->
                            <div class="tab-pane fade" id="policies">
                                <h4 class="admin-pro-settings-title" style="color: #000080; border-bottom-color: #000080;">Library Policies</h4>
                                <div class="admin-pro-settings-section">
                                    <div class="alert" style="background-color: rgba(19, 136, 8, 0.1); border-left: 4px solid #138808;">
                                        <div class="d-flex">
                                            <div class="me-3">
                                                <i class="fas fa-info-circle fa-2x" style="color: #138808;"></i>
                                            </div>
                                            <div>
                                                <h5 style="color: #000080;">Library Policies and Rules</h5>
                                                <p class="mb-0">Configure policies and rules for your library. These settings will determine the operation of your library and interaction with members.</p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="mb-3 mt-4">
                                        <label for="borrowing_policy" class="form-label">Borrowing Policy</label>
                                        <textarea class="form-control" id="borrowing_policy" name="borrowing_policy" rows="4" placeholder="Enter your library's borrowing policy...">1. Members can borrow a maximum of 5 books at a time.
2. Books are loaned for 14 days and can be renewed twice.
3. Reference books and periodicals can only be used within the library.
4. Special collection books are loaned only with special permission.</textarea>
                                    </div>
                                    <div class="mb-3">
                                        <label for="fine_policy" class="form-label">Fine Policy</label>
                                        <textarea class="form-control" id="fine_policy" name="fine_policy" rows="4" placeholder="Enter your library's fine policy...">1. A fine of ₹5 per day per book will be charged for overdue books.
2. Damaged books will incur a fine of ₹100 to ₹500 depending on the extent of damage.
3. Lost books will be charged the cost of the book plus an additional processing fee of ₹100.
4. Contact the library administrator for fine waivers.</textarea>
                                    </div>
                                    <div class="mb-3">
                                        <label for="membership_policy" class="form-label">Membership Policy</label>
                                        <textarea class="form-control" id="membership_policy" name="membership_policy" rows="4" placeholder="Enter your library's membership policy...">1. Valid ID proof and address proof are required for membership.
2. Annual membership fees: Adults - ₹500, Students - ₹250, Senior Citizens - ₹300.
3. Membership is valid for one year and is renewable.
4. Membership card is non-transferable and should always be carried when using the library.</textarea>
                                    </div>
                                    <div class="mb-3">
                                        <label for="reading_room_policy" class="form-label">Reading Room Policy</label>
                                        <textarea class="form-control" id="reading_room_policy" name="reading_room_policy" rows="4" placeholder="Enter your library's reading room policy...">1. The reading room is open from 9:00 AM to 8:00 PM.
2. Maintain silence in the reading room and do not use mobile phones.
3. Food and drinks are prohibited in the reading room.
4. Take care of your personal belongings before leaving your seat.</textarea>
                                    </div>
                                    <div class="mb-3">
                                        <label for="digital_resource_policy" class="form-label">Digital Resource Policy</label>
                                        <textarea class="form-control" id="digital_resource_policy" name="digital_resource_policy" rows="4" placeholder="Enter your library's digital resource policy...">1. Access to digital resources is available only to registered members.
2. E-books can be borrowed for 14 days.
3. Digital resources can only be used for personal study.
4. Comply with copyright laws when downloading or printing digital content.</textarea>
                                    </div>
                                </div>
                            </div>

                            <!-- Notification Settings -->
                            <div class="tab-pane fade" id="notifications">
                                <h4 class="admin-pro-settings-title" style="color: #138808; border-bottom-color: #138808;">Notification Settings</h4>
                                <div class="admin-pro-settings-section">
                                    <div class="mb-4">
                                        <h5 class="admin-pro-settings-subtitle" style="color: #138808;">Email Notifications</h5>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="notify_new_member" name="notify_new_member" checked>
                                            <label class="form-check-label" for="notify_new_member">
                                                New member registration
                                            </label>
                                        </div>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="notify_overdue" name="notify_overdue" checked>
                                            <label class="form-check-label" for="notify_overdue">
                                                Overdue book notifications
                                            </label>
                                        </div>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="notify_reservation" name="notify_reservation" checked>
                                            <label class="form-check-label" for="notify_reservation">
                                                Book reservation notifications
                                            </label>
                                        </div>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="notify_return" name="notify_return" checked>
                                            <label class="form-check-label" for="notify_return">
                                                Book return notifications
                                            </label>
                                        </div>
                                    </div>
                                    <div class="mb-4">
                                        <h5 class="admin-pro-settings-subtitle" style="color: #FF9933;">System Notifications</h5>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="notify_low_stock" name="notify_low_stock" checked>
                                            <label class="form-check-label" for="notify_low_stock">
                                                Low book stock alerts
                                            </label>
                                        </div>
                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="notify_maintenance" name="notify_maintenance" checked>
                                            <label class="form-check-label" for="notify_maintenance">
                                                Books requiring maintenance
                                            </label>
                                        </div>
                                    </div>
                                    <div class="mb-4">
                                        <h5 class="admin-pro-settings-subtitle" style="color: #000080;">Notification Schedule</h5>
                                        <div class="row">
                                            <div class="col-md-6 mb-3">
                                                <label for="due_date_days" class="form-label">Send due date reminders</label>
                                                <div class="input-group">
                                                    <input type="number" class="form-control" id="due_date_days" name="due_date_days" value="3" min="1" max="14">
                                                    <span class="input-group-text">days before due date</span>
                                                </div>
                                            </div>
                                            <div class="col-md-6 mb-3">
                                                <label for="overdue_frequency" class="form-label">Send overdue notices every</label>
                                                <div class="input-group">
                                                    <input type="number" class="form-control" id="overdue_frequency" name="overdue_frequency" value="7" min="1" max="30">
                                                    <span class="input-group-text">days</span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Language Settings -->
                            <div class="tab-pane fade" id="languages">
                                <h4 class="admin-pro-settings-title" style="color: #FF9933; border-bottom-color: #FF9933;">Language Settings</h4>
                                <div class="admin-pro-settings-section">
                                    <div class="alert" style="background-color: rgba(255, 153, 51, 0.1); border-left: 4px solid #FF9933;">
                                        <div class="d-flex">
                                            <div class="me-3">
                                                <i class="fas fa-info-circle fa-2x" style="color: #FF9933;"></i>
                                            </div>
                                            <div>
                                                <h5 style="color: #000080;">Indian Language Settings</h5>
                                                <p class="mb-0">Configure language options for your library. These settings will determine the languages used in your library's interface and communications.</p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row mt-4">
                                        <div class="col-md-6 mb-4">
                                            <h5 class="admin-pro-settings-subtitle" style="color: #FF9933;">Interface Languages</h5>
                                            <p class="text-muted small mb-3">Languages available for the library interface</p>

                                            <div class="table-responsive">
                                                <table class="table table-bordered">
                                                    <thead class="table-light">
                                                        <tr>
                                                            <th>Language</th>
                                                            <th>Active</th>
                                                            <th>Default</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <tr>
                                                            <td>English</td>
                                                            <td>
                                                                <div class="form-check">
                                                                    <input class="form-check-input" type="checkbox" checked>
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div class="form-check">
                                                                    <input class="form-check-input" type="radio" name="default_interface_lang" checked>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>Hindi (हिन्दी)</td>
                                                            <td>
                                                                <div class="form-check">
                                                                    <input class="form-check-input" type="checkbox" checked>
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div class="form-check">
                                                                    <input class="form-check-input" type="radio" name="default_interface_lang">
                                                                </div>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>Bengali (বাংলা)</td>
                                                            <td>
                                                                <div class="form-check">
                                                                    <input class="form-check-input" type="checkbox">
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div class="form-check">
                                                                    <input class="form-check-input" type="radio" name="default_interface_lang" disabled>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                        <tr>
                                                            <td>Tamil (தமிழ்)</td>
                                                            <td>
                                                                <div class="form-check">
                                                                    <input class="form-check-input" type="checkbox">
                                                                </div>
                                                            </td>
                                                            <td>
                                                                <div class="form-check">
                                                                    <input class="form-check-input" type="radio" name="default_interface_lang" disabled>
                                                                </div>
                                                            </td>
                                                        </tr>
                                                    </tbody>
                                                </table>
                                            </div>

                                            <button class="btn btn-sm mt-2" style="background-color: #FF9933; color: white;">
                                                <i class="fas fa-plus me-1"></i> Add More Languages
                                            </button>
                                        </div>

                                        <div class="col-md-6 mb-4">
                                            <h5 class="admin-pro-settings-subtitle" style="color: #138808;">Communication Languages</h5>
                                            <p class="text-muted small mb-3">Languages available for communication with members</p>

                                            <div class="form-check mb-2">
                                                <input class="form-check-input" type="checkbox" id="allow_member_lang_pref" checked>
                                                <label class="form-check-label" for="allow_member_lang_pref">
                                                    Allow members to choose their preferred language
                                                </label>
                                            </div>

                                            <div class="form-check mb-3">
                                                <input class="form-check-input" type="checkbox" id="multilingual_emails" checked>
                                                <label class="form-check-label" for="multilingual_emails">
                                                    Send multilingual emails
                                                </label>
                                                <small class="form-text text-muted d-block">Include member's preferred language alongside English in emails</small>
                                            </div>

                                            <div class="mb-3">
                                                <label class="form-label">Default communication language</label>
                                                <select class="form-select">
                                                    <option value="en" selected>English</option>
                                                    <option value="hi">Hindi (हिन्दी)</option>
                                                    <option value="bn">Bengali (বাংলা)</option>
                                                    <option value="ta">Tamil (தமிழ்)</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="mb-4">
                                        <h5 class="admin-pro-settings-subtitle" style="color: #000080;">Book Language Settings</h5>

                                        <div class="row">
                                            <div class="col-md-6 mb-3">
                                                <label class="form-label">Show language filter in book search</label>
                                                <select class="form-select">
                                                    <option value="all">All languages</option>
                                                    <option value="popular" selected>Popular languages</option>
                                                    <option value="none">None</option>
                                                </select>
                                            </div>
                                            <div class="col-md-6 mb-3">
                                                <label class="form-label">Categorize books by language</label>
                                                <select class="form-select">
                                                    <option value="yes" selected>Yes</option>
                                                    <option value="no">No</option>
                                                </select>
                                            </div>
                                        </div>

                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="highlight_indian_langs" checked>
                                            <label class="form-check-label" for="highlight_indian_langs">
                                                Highlight books in Indian languages
                                            </label>
                                        </div>

                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="show_transliteration" checked>
                                            <label class="form-check-label" for="show_transliteration">
                                                Show transliteration for book titles
                                            </label>
                                            <small class="form-text text-muted d-block">Show Roman script transliteration for non-English book titles</small>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Integrations -->
                            <div class="tab-pane fade" id="integrations">
                                <h4 class="admin-pro-settings-title" style="color: #000080; border-bottom-color: #000080;">Integrations</h4>
                                <div class="admin-pro-settings-section">
                                    <div class="alert" style="background-color: rgba(255, 153, 51, 0.1); border-left: 4px solid #FF9933;">
                                        <div class="d-flex">
                                            <div class="me-3">
                                                <i class="fas fa-info-circle fa-2x" style="color: #FF9933;"></i>
                                            </div>
                                            <div>
                                                <h5 style="color: #000080;">Integrations Available in Pro Version</h5>
                                                <p class="mb-0">Integrations are available in the Pro version. Upgrade to access these features.</p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-6 mb-4">
                                            <div class="card integration-card">
                                                <div class="card-body">
                                                    <div class="d-flex align-items-center mb-3">
                                                        <div class="integration-icon me-3" style="background-color: rgba(255, 153, 51, 0.1);">
                                                            <i class="fab fa-google" style="color: #4285F4;"></i>
                                                        </div>
                                                        <div>
                                                            <h5 class="mb-0">Google Calendar</h5>
                                                            <p class="text-muted mb-0 small">Sync library events</p>
                                                        </div>
                                                        <div class="ms-auto">
                                                            <div class="form-check form-switch">
                                                                <input class="form-check-input" type="checkbox" id="googleCalendarSwitch" disabled>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <p class="small text-muted">Connect your library calendar to Google Calendar to sync events, reservations, and more.</p>
                                                    <button class="btn btn-sm" style="background-color: #FF9933; color: white;" disabled>
                                                        <i class="fas fa-plug me-1"></i> Connect
                                                    </button>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-md-6 mb-4">
                                            <div class="card integration-card">
                                                <div class="card-body">
                                                    <div class="d-flex align-items-center mb-3">
                                                        <div class="integration-icon me-3" style="background-color: rgba(19, 136, 8, 0.1);">
                                                            <i class="fab fa-whatsapp" style="color: #25D366;"></i>
                                                        </div>
                                                        <div>
                                                            <h5 class="mb-0">WhatsApp</h5>
                                                            <p class="text-muted mb-0 small">Member notifications</p>
                                                        </div>
                                                        <div class="ms-auto">
                                                            <div class="form-check form-switch">
                                                                <input class="form-check-input" type="checkbox" id="whatsappSwitch" disabled>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <p class="small text-muted">Connect with WhatsApp to send due date reminders, new book notifications, and more to members.</p>
                                                    <button class="btn btn-sm" style="background-color: #138808; color: white;" disabled>
                                                        <i class="fas fa-plug me-1"></i> Connect
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="row">
                                        <div class="col-md-6 mb-4">
                                            <div class="card integration-card">
                                                <div class="card-body">
                                                    <div class="d-flex align-items-center mb-3">
                                                        <div class="integration-icon me-3" style="background-color: rgba(0, 0, 128, 0.1);">
                                                            <i class="fas fa-rupee-sign" style="color: #000080;"></i>
                                                        </div>
                                                        <div>
                                                            <h5 class="mb-0">UPI Payments</h5>
                                                            <p class="text-muted mb-0 small">Fine and fee payments</p>
                                                        </div>
                                                        <div class="ms-auto">
                                                            <div class="form-check form-switch">
                                                                <input class="form-check-input" type="checkbox" id="upiSwitch" disabled>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <p class="small text-muted">Allow members to make fine, membership fee, and other payments through UPI.</p>
                                                    <button class="btn btn-sm" style="background-color: #000080; color: white;" disabled>
                                                        <i class="fas fa-plug me-1"></i> Connect
                                                    </button>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="col-md-6 mb-4">
                                            <div class="card integration-card">
                                                <div class="card-body">
                                                    <div class="d-flex align-items-center mb-3">
                                                        <div class="integration-icon me-3" style="background-color: rgba(255, 153, 51, 0.1);">
                                                            <i class="fas fa-book" style="color: #FF9933;"></i>
                                                        </div>
                                                        <div>
                                                            <h5 class="mb-0">National Digital Library</h5>
                                                            <p class="text-muted mb-0 small">Digital resource integration</p>
                                                        </div>
                                                        <div class="ms-auto">
                                                            <div class="form-check form-switch">
                                                                <input class="form-check-input" type="checkbox" id="ndlSwitch" disabled>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <p class="small text-muted">Access digital resources from India's National Digital Library and share them with your members.</p>
                                                    <button class="btn btn-sm" style="background-color: #FF9933; color: white;" disabled>
                                                        <i class="fas fa-plug me-1"></i> Connect
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Advanced Settings -->
                            <div class="tab-pane fade" id="advanced">
                                <h4 class="admin-pro-settings-title" style="color: #138808; border-bottom-color: #138808;">Advanced Settings</h4>
                                <div class="admin-pro-settings-section">
                                    <div class="alert" style="background-color: rgba(255, 153, 51, 0.1); border-left: 4px solid #FF9933;">
                                        <div class="d-flex">
                                            <div class="me-3">
                                                <i class="fas fa-exclamation-triangle fa-2x" style="color: #FF9933;"></i>
                                            </div>
                                            <div>
                                                <h5 style="color: #000080;">Caution: Settings for Advanced Users</h5>
                                                <p class="mb-0">These settings are for advanced users. Incorrect configuration may affect system performance.</p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="mb-4">
                                        <h5 class="admin-pro-settings-subtitle" style="color: #138808;">System Configuration</h5>

                                        <div class="mb-3">
                                            <label for="items_per_page" class="form-label">Items per page</label>
                                            <select class="form-select" id="items_per_page" name="items_per_page">
                                                <option value="10">10</option>
                                                <option value="25" selected>25</option>
                                                <option value="50">50</option>
                                                <option value="100">100</option>
                                            </select>
                                            <div class="form-text">Number of items to display per page in lists and tables.</div>
                                        </div>

                                        <div class="mb-3">
                                            <label for="session_timeout" class="form-label">Session timeout (minutes)</label>
                                            <input type="number" class="form-control" id="session_timeout" name="session_timeout" value="30" min="5" max="120">
                                            <div class="form-text">Time of inactivity before a user is automatically logged out.</div>
                                        </div>

                                        <div class="form-check mb-3">
                                            <input class="form-check-input" type="checkbox" id="enable_cache" name="enable_cache" checked>
                                            <label class="form-check-label" for="enable_cache">
                                                Enable system cache
                                            </label>
                                            <div class="form-text">Improves performance but may show slightly outdated data.</div>
                                        </div>
                                    </div>

                                    <div class="mb-4">
                                        <h5 class="admin-pro-settings-subtitle" style="color: #FF9933;">Debug & Logging</h5>

                                        <div class="form-check mb-3">
                                            <input class="form-check-input" type="checkbox" id="enable_debug" name="enable_debug">
                                            <label class="form-check-label" for="enable_debug">
                                                Enable debug mode
                                            </label>
                                            <div class="form-text">Shows detailed error messages and logs additional information.</div>
                                        </div>

                                        <div class="mb-3">
                                            <label for="log_level" class="form-label">Log level</label>
                                            <select class="form-select" id="log_level" name="log_level">
                                                <option value="error">Error only</option>
                                                <option value="warning" selected>Warning & Error</option>
                                                <option value="info">Info, Warning & Error</option>
                                                <option value="debug">All (Debug)</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="mb-4">
                                        <h5 class="admin-pro-settings-subtitle" style="color: #000080;">India-specific Settings</h5>

                                        <div class="mb-3">
                                            <label for="isbn_format" class="form-label">ISBN Format</label>
                                            <select class="form-select" id="isbn_format" name="isbn_format">
                                                <option value="both" selected>Both (ISBN-10 and ISBN-13)</option>
                                                <option value="isbn13">ISBN-13 only</option>
                                                <option value="isbn10">ISBN-10 only</option>
                                            </select>
                                            <div class="form-text">ISBN format to be used for books.</div>
                                        </div>

                                        <div class="mb-3">
                                            <label for="date_format_region" class="form-label">Regional Date Format</label>
                                            <select class="form-select" id="date_format_region" name="date_format_region">
                                                <option value="indian" selected>Indian (DD/MM/YYYY)</option>
                                                <option value="us">US (MM/DD/YYYY)</option>
                                                <option value="iso">ISO (YYYY-MM-DD)</option>
                                            </select>
                                            <div class="form-text">Date format to be used in the system.</div>
                                        </div>

                                        <div class="form-check mb-3">
                                            <input class="form-check-input" type="checkbox" id="enable_local_fonts" name="enable_local_fonts" checked>
                                            <label class="form-check-label" for="enable_local_fonts">
                                                Enable Indian language fonts
                                            </label>
                                            <div class="form-text">Use local fonts for Indian languages.</div>
                                        </div>

                                        <div class="form-check mb-3">
                                            <input class="form-check-input" type="checkbox" id="enable_aadhaar_verification" name="enable_aadhaar_verification">
                                            <label class="form-check-label" for="enable_aadhaar_verification">
                                                Enable Aadhaar verification
                                            </label>
                                            <div class="form-text">Enable Aadhaar verification for member registration.</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Backup & Restore -->
                            <div class="tab-pane fade" id="backup">
                                <h4 class="admin-pro-settings-title" style="color: #FF9933; border-bottom-color: #FF9933;">Backup & Restore</h4>
                                <div class="admin-pro-settings-section">
                                    <div class="alert" style="background-color: rgba(19, 136, 8, 0.1); border-left: 4px solid #138808;">
                                        <div class="d-flex">
                                            <div class="me-3">
                                                <i class="fas fa-info-circle fa-2x" style="color: #138808;"></i>
                                            </div>
                                            <div>
                                                <h5 style="color: #000080;">Regular Backups Are Important</h5>
                                                <p class="mb-0">Regular backups help protect your library data from loss. We recommend weekly backups.</p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="mb-4">
                                        <h5 class="admin-pro-settings-subtitle" style="color: #FF9933;">Manual Backup</h5>
                                        <p>Create a backup of your library data including books, members, and transactions.</p>
                                        <button type="button" class="btn" style="background-color: #FF9933; color: white;">
                                            <i class="fas fa-download me-2"></i> Create Backup
                                        </button>
                                    </div>

                                    <div class="mb-4">
                                        <h5 class="admin-pro-settings-subtitle" style="color: #138808;">Scheduled Backups</h5>
                                        <div class="form-check mb-3">
                                            <input class="form-check-input" type="checkbox" id="enable_auto_backup" name="enable_auto_backup" checked>
                                            <label class="form-check-label" for="enable_auto_backup">
                                                Enable automatic backups
                                            </label>
                                        </div>

                                        <div class="mb-3">
                                            <label for="backup_frequency" class="form-label">Backup frequency</label>
                                            <select class="form-select" id="backup_frequency" name="backup_frequency">
                                                <option value="daily">Daily</option>
                                                <option value="weekly" selected>Weekly</option>
                                                <option value="monthly">Monthly</option>
                                            </select>
                                        </div>

                                        <div class="mb-3">
                                            <label for="backup_retention" class="form-label">Backup retention</label>
                                            <select class="form-select" id="backup_retention" name="backup_retention">
                                                <option value="3">Last 3 backups</option>
                                                <option value="5" selected>Last 5 backups</option>
                                                <option value="10">Last 10 backups</option>
                                                <option value="all">All backups</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="mb-4">
                                        <h5 class="admin-pro-settings-subtitle" style="color: #000080;">Backup Location</h5>
                                        <div class="form-check mb-3">
                                            <input class="form-check-input" type="checkbox" id="local_backup" name="local_backup" checked>
                                            <label class="form-check-label" for="local_backup">
                                                Backup on local server
                                            </label>
                                        </div>
                                        <div class="form-check mb-3">
                                            <input class="form-check-input" type="checkbox" id="cloud_backup" name="cloud_backup" checked>
                                            <label class="form-check-label" for="cloud_backup">
                                                Backup to cloud
                                            </label>
                                        </div>
                                        <div class="mb-3">
                                            <label for="cloud_provider" class="form-label">Cloud provider</label>
                                            <select class="form-select" id="cloud_provider" name="cloud_provider">
                                                <option value="digilocker" selected>DigiLocker</option>
                                                <option value="google">Google Drive</option>
                                                <option value="onedrive">OneDrive</option>
                                                <option value="dropbox">Dropbox</option>
                                            </select>
                                        </div>
                                    </div>

                                    <div class="mb-4">
                                        <h5 class="admin-pro-settings-subtitle" style="color: #FF9933;">Restore Backup</h5>
                                        <div class="alert" style="background-color: rgba(220, 53, 69, 0.1); border-left: 4px solid #dc3545;">
                                            <div class="d-flex">
                                                <div class="me-3">
                                                    <i class="fas fa-exclamation-triangle fa-2x" style="color: #dc3545;"></i>
                                                </div>
                                                <div>
                                                    <h5 style="color: #dc3545;">Warning: Proceed with Caution</h5>
                                                    <p class="mb-0">Restoring a backup will replace all current data with the backup data.</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="mb-3 mt-3">
                                            <label for="backup_file" class="form-label">Select backup file</label>
                                            <input class="form-control" type="file" id="backup_file" name="backup_file">
                                        </div>
                                        <button type="button" class="btn" style="background-color: #dc3545; color: white;">
                                            <i class="fas fa-upload me-2"></i> Restore Backup
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Security -->
                            <div class="tab-pane fade" id="security">
                                <h4 class="admin-pro-settings-title" style="color: #000080; border-bottom-color: #000080;">Security Settings</h4>
                                <div class="admin-pro-settings-section">
                                    <div class="alert" style="background-color: rgba(0, 0, 128, 0.1); border-left: 4px solid #000080;">
                                        <div class="d-flex">
                                            <div class="me-3">
                                                <i class="fas fa-shield-alt fa-2x" style="color: #000080;"></i>
                                            </div>
                                            <div>
                                                <h5 style="color: #000080;">Security Is Important</h5>
                                                <p class="mb-0">Strong security settings protect your library data and user information.</p>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="mb-4">
                                        <h5 class="admin-pro-settings-subtitle" style="color: #000080;">Password Policy</h5>

                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="require_strong_password" name="require_strong_password" checked>
                                            <label class="form-check-label" for="require_strong_password">
                                                Require strong passwords
                                            </label>
                                        </div>

                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="password_expiry" name="password_expiry" checked>
                                            <label class="form-check-label" for="password_expiry">
                                                Password expiry
                                            </label>
                                        </div>

                                        <div class="mb-3">
                                            <label for="password_expiry_days" class="form-label">Password expiry days</label>
                                            <input type="number" class="form-control" id="password_expiry_days" name="password_expiry_days" value="90" min="30" max="365">
                                        </div>
                                    </div>

                                    <div class="mb-4">
                                        <h5 class="admin-pro-settings-subtitle" style="color: #FF9933;">Login Security</h5>

                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="enable_2fa" name="enable_2fa" checked>
                                            <label class="form-check-label" for="enable_2fa">
                                                Enable two-factor authentication
                                            </label>
                                        </div>

                                        <div class="mb-3">
                                            <label for="2fa_method" class="form-label">2FA Method</label>
                                            <select class="form-select" id="2fa_method" name="2fa_method">
                                                <option value="sms" selected>SMS</option>
                                                <option value="email">Email</option>
                                                <option value="app">Authentication App</option>
                                                <option value="aadhaar">Aadhaar OTP</option>
                                            </select>
                                        </div>

                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="account_lockout" name="account_lockout" checked>
                                            <label class="form-check-label" for="account_lockout">
                                                Account lockout after failed attempts
                                            </label>
                                        </div>

                                        <div class="mb-3">
                                            <label for="max_login_attempts" class="form-label">Maximum login attempts</label>
                                            <input type="number" class="form-control" id="max_login_attempts" name="max_login_attempts" value="5" min="3" max="10">
                                        </div>
                                    </div>

                                    <div class="mb-4">
                                        <h5 class="admin-pro-settings-subtitle" style="color: #138808;">Indian Security Compliance</h5>

                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="enable_aadhaar_verification" name="enable_aadhaar_verification">
                                            <label class="form-check-label" for="enable_aadhaar_verification">
                                                Enable Aadhaar verification
                                            </label>
                                        </div>

                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="enable_data_localization" name="enable_data_localization" checked>
                                            <label class="form-check-label" for="enable_data_localization">
                                                Enable data localization
                                            </label>
                                            <div class="form-text">All data will be stored on servers located in India.</div>
                                        </div>

                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="enable_pdpa_compliance" name="enable_pdpa_compliance" checked>
                                            <label class="form-check-label" for="enable_pdpa_compliance">
                                                Enable PDPA compliance
                                            </label>
                                            <div class="form-text">Enable compliance with the Indian Personal Data Protection Act.</div>
                                        </div>
                                    </div>

                                    <div class="mb-4">
                                        <h5 class="admin-pro-settings-subtitle" style="color: #000080;">Activity Logs</h5>

                                        <div class="form-check mb-2">
                                            <input class="form-check-input" type="checkbox" id="enable_audit_log" name="enable_audit_log" checked>
                                            <label class="form-check-label" for="enable_audit_log">
                                                Enable audit logging
                                            </label>
                                        </div>

                                        <div class="mb-3">
                                            <label for="log_retention" class="form-label">Log retention period (days)</label>
                                            <input type="number" class="form-control" id="log_retention" name="log_retention" value="90" min="30" max="365">
                                        </div>

                                        <button type="button" class="btn" style="background-color: #000080; color: white;">
                                            <i class="fas fa-download me-2"></i> Download Activity Logs
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>

                <!-- Settings Footer -->
                <div class="card-footer bg-white p-3 border-top">
                    <div class="row align-items-center">
                        <div class="col-md-6">
                            <div class="d-flex align-items-center">
                                <div class="me-3">
                                    <img src="{% static 'img/india-emblem.png' %}" alt="Emblem of India" width="40" height="40" onerror="this.src='https://upload.wikimedia.org/wikipedia/commons/thumb/5/55/Emblem_of_India.svg/120px-Emblem_of_India.svg.png'; this.onerror=null;">
                                </div>
                                <div>
                                    <p class="mb-0 small text-muted">
                                        <span style="color: #FF9933;">Digital</span> <span style="color: #000080;">India</span> <span style="color: #138808;">Initiative</span>
                                    </p>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6 text-md-end">
                            <div class="d-flex justify-content-md-end align-items-center">
                                <a href="#" class="text-decoration-none me-3" style="color: #000080;">
                                    <i class="fas fa-question-circle me-1"></i> Help
                                </a>
                                <a href="#" class="text-decoration-none me-3" style="color: #138808;">
                                    <i class="fas fa-book me-1"></i> Guide
                                </a>
                                <a href="#" class="text-decoration-none" style="color: #FF9933;">
                                    <i class="fas fa-video me-1"></i> Video Tutorial
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Indian-inspired decorative footer -->
    <div class="mt-4 text-center">
        <div class="indian-pattern-divider"></div>
        <p class="small text-muted mb-1">
            <span style="color: #FF9933;">Satyameva</span> <span style="color: #000080;">Jayate</span> <span style="color: #138808;">.</span>
        </p>
        <p class="small text-muted">© 2023 Library Management System | Made in India</p>
    </div>
</div>

<style>
    .admin-pro-settings-container {
        margin-bottom: 30px;
    }

    .admin-pro-settings-sidebar .list-group-item {
        border-radius: 0;
        border-left: 3px solid transparent;
        padding: 12px 15px;
        transition: all 0.3s ease;
    }

    .admin-pro-settings-sidebar .list-group-item.active {
        background-color: rgba(var(--bs-primary-rgb), 0.1);
        color: var(--primary-color);
        border-left-color: var(--primary-color);
        font-weight: 500;
    }

    .admin-pro-settings-sidebar .list-group-item:hover:not(.active) {
        background-color: rgba(var(--bs-primary-rgb), 0.05);
        border-left-color: rgba(var(--bs-primary-rgb), 0.3);
    }

    .admin-pro-settings-title {
        font-size: 18px;
        font-weight: 600;
        margin-bottom: 20px;
        padding-bottom: 10px;
        border-bottom: 1px solid var(--gray-200);
        color: var(--dark-color);
    }

    .admin-pro-settings-subtitle {
        font-size: 16px;
        font-weight: 600;
        margin-bottom: 15px;
        color: var(--gray-700);
    }

    .admin-pro-settings-section {
        margin-bottom: 30px;
    }

    .admin-pro-settings-image {
        width: 100%;
        text-align: center;
    }

    .admin-pro-settings-image img {
        width: 100%;
        max-width: 150px;
        height: auto;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    }

    .admin-pro-settings-image-placeholder {
        width: 150px;
        height: 150px;
        margin: 0 auto;
        background-color: var(--gray-200);
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--gray-500);
        font-size: 48px;
    }

    .admin-pro-color-swatch {
        display: inline-block;
        width: 20px;
        height: 20px;
        border-radius: 50%;
        margin-right: 5px;
        vertical-align: middle;
    }

    .admin-pro-color-options .form-check,
    .admin-pro-mode-options .form-check {
        margin-bottom: 10px;
    }

    /* Integration Cards */
    .integration-card {
        transition: all 0.3s ease;
        border: 1px solid var(--bs-gray-200);
    }

    .integration-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        border-color: var(--bs-primary);
    }

    .integration-icon {
        width: 40px;
        height: 40px;
        background-color: var(--bs-gray-100);
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 20px;
        color: var(--bs-gray-700);
    }

    .integration-icon .fab.fa-google {
        color: #4285F4;
    }

    .integration-icon .fab.fa-slack {
        color: #4A154B;
    }

    /* Form Styling */
    .form-text {
        font-size: 12px;
        color: var(--bs-gray-600);
    }

    .form-select, .form-control {
        border-radius: 8px;
        border: 1px solid var(--bs-gray-300);
        padding: 10px 15px;
        transition: all 0.3s ease;
    }

    .form-select:focus, .form-control:focus {
        border-color: var(--bs-primary);
        box-shadow: 0 0 0 0.25rem rgba(var(--bs-primary-rgb), 0.25);
    }

    /* Alert Styling */
    .alert {
        border-radius: 8px;
        border: none;
        padding: 15px;
    }

    .alert-info {
        background-color: rgba(var(--bs-info-rgb), 0.1);
        color: var(--bs-info);
    }

    .alert-warning {
        background-color: rgba(var(--bs-warning-rgb), 0.1);
        color: var(--bs-warning);
    }

    .alert-danger {
        background-color: rgba(var(--bs-danger-rgb), 0.1);
        color: var(--bs-danger);
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Preview image before upload
        const imageInput = document.getElementById('image');
        const imagePreview = document.querySelector('.admin-pro-settings-image img') ||
                            document.querySelector('.admin-pro-settings-image-placeholder');

        if (imageInput) {
            imageInput.addEventListener('change', function() {
                const file = this.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        if (imagePreview.tagName === 'IMG') {
                            imagePreview.src = e.target.result;
                        } else {
                            // Replace placeholder with image
                            const img = document.createElement('img');
                            img.src = e.target.result;
                            img.alt = "Library Image";
                            img.className = "img-fluid rounded";
                            imagePreview.parentNode.replaceChild(img, imagePreview);
                        }
                    }
                    reader.readAsDataURL(file);
                }
            });
        }

        // Tab navigation
        const navItems = document.querySelectorAll('.settings-nav-item');
        const tabContents = document.querySelectorAll('.tab-pane');

        navItems.forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();

                // Remove active class from all nav items
                navItems.forEach(navItem => {
                    navItem.classList.remove('active');
                });

                // Add active class to clicked nav item
                this.classList.add('active');

                // Get the target tab content
                const target = this.getAttribute('href');

                // Hide all tab contents
                tabContents.forEach(content => {
                    content.classList.remove('show', 'active');
                });

                // Show the target tab content
                document.querySelector(target).classList.add('show', 'active');

                // Update URL hash
                window.history.pushState(null, null, target);
            });
        });

        // Handle tab navigation via URL hash
        const hash = window.location.hash || '#general';
        const activeTab = document.querySelector(`.settings-nav-item[href="${hash}"]`);
        if (activeTab) {
            activeTab.click();
        } else {
            // Default to first tab
            navItems[0].click();
        }

        // Reset settings button
        const resetBtn = document.getElementById('resetSettingsBtn');
        if (resetBtn) {
            resetBtn.addEventListener('click', function() {
                if (confirm('Are you sure you want to reset all changes? This will revert to the last saved settings.')) {
                    window.location.reload();
                }
            });
        }

        // Form submission feedback
        const settingsForm = document.getElementById('library-settings-form');
        if (settingsForm) {
            settingsForm.addEventListener('submit', function() {
                const saveBtn = document.querySelector('button[type="submit"]');
                saveBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Saving...';
                saveBtn.disabled = true;
            });
        }

        // Indian-specific theme switcher
        const themeRadios = document.querySelectorAll('input[name="theme_color"]');
        if (themeRadios.length > 0) {
            themeRadios.forEach(radio => {
                radio.addEventListener('change', function() {
                    const theme = this.value;
                    let primaryColor, secondaryColor, accentColor;

                    // Set colors based on selected Indian theme
                    switch(theme) {
                        case 'tricolor':
                            primaryColor = '#FF9933';
                            secondaryColor = '#138808';
                            accentColor = '#000080';
                            break;
                        case 'saffron':
                            primaryColor = '#FF9933';
                            secondaryColor = '#B8860B';
                            accentColor = '#CD853F';
                            break;
                        case 'green':
                            primaryColor = '#138808';
                            secondaryColor = '#0B6623';
                            accentColor = '#50C878';
                            break;
                        case 'navy':
                            primaryColor = '#000080';
                            secondaryColor = '#0F52BA';
                            accentColor = '#4169E1';
                            break;
                        case 'peacock':
                            primaryColor = '#50C878';
                            secondaryColor = '#3CB371';
                            accentColor = '#00A36C';
                            break;
                        case 'lotus':
                            primaryColor = '#FFC0CB';
                            secondaryColor = '#FFB6C1';
                            accentColor = '#FF69B4';
                            break;
                        default:
                            primaryColor = '#FF9933';
                            secondaryColor = '#138808';
                            accentColor = '#000080';
                    }

                    // Apply theme preview
                    document.documentElement.style.setProperty('--indian-primary', primaryColor);
                    document.documentElement.style.setProperty('--indian-secondary', secondaryColor);
                    document.documentElement.style.setProperty('--indian-accent', accentColor);

                    // Show theme applied message
                    const themeMessage = document.createElement('div');
                    themeMessage.className = 'alert alert-success mt-2';
                    themeMessage.innerHTML = `<i class="fas fa-check-circle me-2"></i> Theme applied: ${this.parentNode.textContent.trim()}`;

                    const existingMessage = document.querySelector('.theme-message');
                    if (existingMessage) {
                        existingMessage.remove();
                    }

                    themeMessage.classList.add('theme-message');
                    this.closest('.admin-pro-color-options').appendChild(themeMessage);

                    // Auto-remove message after 3 seconds
                    setTimeout(() => {
                        themeMessage.remove();
                    }, 3000);
                });
            });
        }

        // Special theme switchers
        const specialThemeSwitches = document.querySelectorAll('#theme_rajasthani, #theme_kerala, #theme_varanasi');
        specialThemeSwitches.forEach(switchEl => {
            switchEl.addEventListener('change', function() {
                const themeName = this.id.replace('theme_', '');
                const isChecked = this.checked;

                if (isChecked) {
                    // Show theme applied message
                    const themeMessage = document.createElement('div');
                    themeMessage.className = 'alert alert-success mt-2';
                    themeMessage.innerHTML = `<i class="fas fa-check-circle me-2"></i> ${themeName} theme enabled`;

                    const cardBody = this.closest('.card-body');
                    cardBody.appendChild(themeMessage);

                    // Auto-remove message after 3 seconds
                    setTimeout(() => {
                        themeMessage.remove();
                    }, 3000);

                    // Disable other special themes
                    specialThemeSwitches.forEach(otherSwitch => {
                        if (otherSwitch !== this) {
                            otherSwitch.checked = false;
                        }
                    });
                }
            });
        });

        // Indian festival calendar functionality
        const enableFestivalCalendar = document.getElementById('enable_festival_calendar');
        const festivalCategories = document.querySelectorAll('input[name="festival_categories[]"]');

        if (enableFestivalCalendar) {
            enableFestivalCalendar.addEventListener('change', function() {
                festivalCategories.forEach(category => {
                    category.disabled = !this.checked;
                });

                if (this.checked) {
                    const successMessage = document.createElement('div');
                    successMessage.className = 'alert alert-success mt-2';
                    successMessage.innerHTML = `<i class="fas fa-check-circle me-2"></i> Indian festival calendar enabled`;

                    const existingMessage = document.querySelector('.festival-message');
                    if (existingMessage) {
                        existingMessage.remove();
                    }

                    successMessage.classList.add('festival-message');
                    this.closest('.mb-4').appendChild(successMessage);

                    // Auto-remove message after 3 seconds
                    setTimeout(() => {
                        successMessage.remove();
                    }, 3000);
                }
            });
        }
    });
</script>
{% endblock %}
