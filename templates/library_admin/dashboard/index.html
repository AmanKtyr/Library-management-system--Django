{% extends 'library_admin/base.html' %}
{% load static %}

{% block title %}Library Admin Dashboard - Library Management System{% endblock %}
{% block breadcrumb_title %}Dashboard{% endblock %}
{% block page_title %}Library Admin Dashboard{% endblock %}

{% block extra_css %}
<style>
    /* Animation Effects */
    .fade-in-up {
        opacity: 0;
        transform: translateY(20px);
        animation: fadeInUp 0.6s ease forwards;
    }

    .fade-in-left {
        opacity: 0;
        transform: translateX(-20px);
        animation: fadeInLeft 0.6s ease forwards;
    }

    .fade-in-right {
        opacity: 0;
        transform: translateX(20px);
        animation: fadeInRight 0.6s ease forwards;
    }

    .scale-in {
        opacity: 0;
        transform: scale(0.9);
        animation: scaleIn 0.5s ease forwards;
    }

    @keyframes fadeInUp {
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes fadeInLeft {
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }

    @keyframes fadeInRight {
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }

    @keyframes scaleIn {
        to {
            opacity: 1;
            transform: scale(1);
        }
    }

    /* Pulse Animation for Welcome Icon */
    .pulse {
        animation: pulse 2s infinite;
    }

    @keyframes pulse {
        0% {
            transform: scale(1);
        }
        50% {
            transform: scale(1.1);
        }
        100% {
            transform: scale(1);
        }
    }

    /* Card Hover Effects */
    .stats-card {
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        border: none;
        border-radius: 12px;
        overflow: hidden;
    }

    .stats-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 20px rgba(0,0,0,0.1);
    }

    /* Quick Action Cards */
    .quick-action-card {
        transition: all 0.3s ease;
        border-radius: 10px;
        border: 1px solid var(--bs-gray-200);
    }

    .quick-action-card:hover {
        transform: translateY(-3px);
        background: var(--bs-primary-bg-subtle);
        border-color: var(--bs-primary);
        box-shadow: 0 5px 15px rgba(var(--bs-primary-rgb), 0.15);
    }

    .quick-action-icon {
        transition: all 0.3s ease;
    }

    .quick-action-card:hover .quick-action-icon {
        transform: scale(1.1);
    }

    /* Enhanced Welcome Section */
    .admin-pro-welcome-message {
        background: linear-gradient(135deg, var(--bs-primary-bg-subtle) 0%, rgba(var(--bs-primary-rgb), 0.05) 100%);
        border-radius: 15px;
        padding: 20px;
        display: flex;
        align-items: center;
        border-left: 4px solid var(--bs-primary);
    }

    .admin-pro-welcome-icon {
        width: 60px;
        height: 60px;
        background: var(--bs-primary);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 24px;
        margin-right: 20px;
        box-shadow: 0 5px 15px rgba(var(--bs-primary-rgb), 0.3);
    }

    /* Enhanced Stats Cards */
    .admin-pro-stats-card {
        padding: 20px;
        border-radius: 12px;
        height: 100%;
        display: flex;
        align-items: center;
        position: relative;
        overflow: hidden;
    }

    /* Indian Flag Colors */
    .admin-pro-stats-card.primary {
        background: linear-gradient(135deg, #FF9933 0%, #FF8C00 100%); /* Saffron */
        color: white;
    }

    .admin-pro-stats-card.success {
        background: linear-gradient(135deg, #138808 0%, #0F6606 100%); /* Green */
        color: white;
    }

    .admin-pro-stats-card.info {
        background: linear-gradient(135deg, #FFFFFF 0%, #F8F8F8 100%); /* White */
        color: #333333;
        border: 1px solid #e0e0e0;
    }

    .admin-pro-stats-card.warning {
        background: linear-gradient(135deg, #000080 0%, #000066 100%); /* Navy Blue (Ashoka Chakra) */
        color: white;
    }

    .admin-pro-stats-card.danger {
        background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
        color: white;
    }

    .admin-pro-stats-icon {
        width: 60px;
        height: 60px;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.2);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        margin-right: 15px;
        box-shadow: 0 5px 10px rgba(0, 0, 0, 0.1);
    }

    .admin-pro-stats-content {
        flex: 1;
    }

    .admin-pro-stats-value {
        font-size: 28px;
        font-weight: 700;
        margin-bottom: 5px;
        line-height: 1;
    }

    .admin-pro-stats-label {
        font-size: 14px;
        opacity: 0.9;
        margin-bottom: 5px;
    }

    .admin-pro-stats-trend {
        font-size: 12px;
        display: flex;
        align-items: center;
    }

    .admin-pro-stats-trend.up {
        color: rgba(255, 255, 255, 0.9);
    }

    .admin-pro-stats-trend.down {
        color: rgba(255, 255, 255, 0.9);
    }

    .admin-pro-stats-trend i {
        margin-right: 5px;
    }

    /* Library Info Section */
    .admin-pro-library-image {
        text-align: center;
        margin-bottom: 15px;
    }

    .admin-pro-library-image img {
        width: 100%;
        max-width: 200px;
        height: auto;
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    .admin-pro-library-placeholder {
        width: 200px;
        height: 150px;
        background: var(--bs-gray-200);
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 48px;
        color: var(--bs-gray-500);
        margin: 0 auto;
    }

    .admin-pro-library-name {
        font-size: 24px;
        font-weight: 600;
        margin-bottom: 15px;
        color: var(--bs-primary);
    }

    .admin-pro-library-info {
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    .admin-pro-library-info-item {
        display: flex;
        align-items: flex-start;
    }

    .admin-pro-library-info-icon {
        width: 30px;
        height: 30px;
        background: var(--bs-primary-bg-subtle);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--bs-primary);
        margin-right: 10px;
        flex-shrink: 0;
    }

    /* Staff Cards */
    .admin-pro-staff-card {
        background: white;
        border-radius: 10px;
        box-shadow: 0 3px 10px rgba(0, 0, 0, 0.05);
        padding: 15px;
        transition: all 0.3s ease;
        height: 100%;
        border: 1px solid var(--bs-gray-200);
    }

    .admin-pro-staff-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
        border-color: var(--bs-primary);
    }

    .admin-pro-staff-header {
        display: flex;
        align-items: center;
        margin-bottom: 15px;
    }

    .admin-pro-staff-avatar {
        width: 60px;
        height: 60px;
        margin-right: 15px;
        flex-shrink: 0;
    }

    .admin-pro-staff-avatar img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 50%;
        border: 2px solid var(--bs-primary);
    }

    .admin-pro-staff-avatar-placeholder {
        width: 100%;
        height: 100%;
        background: var(--bs-primary);
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
        border-radius: 50%;
        font-size: 20px;
    }

    .admin-pro-staff-name {
        font-size: 16px;
        font-weight: 600;
        margin-bottom: 5px;
    }

    /* System Health */
    .system-health-item {
        margin-bottom: 15px;
    }

    /* Table Styling */
    .admin-pro-table {
        width: 100%;
        border-collapse: separate;
        border-spacing: 0;
    }

    .admin-pro-table th {
        background-color: var(--bs-gray-100);
        padding: 12px 15px;
        font-weight: 600;
        text-align: left;
        border-bottom: 2px solid var(--bs-gray-200);
    }

    .admin-pro-table td {
        padding: 12px 15px;
        border-bottom: 1px solid var(--bs-gray-200);
        vertical-align: middle;
    }

    .admin-pro-table tr:last-child td {
        border-bottom: none;
    }

    .admin-pro-table tr:hover td {
        background-color: var(--bs-primary-bg-subtle);
    }

    /* User Small Component */
    .admin-pro-user-small {
        display: flex;
        align-items: center;
    }

    .admin-pro-user-small-img {
        width: 36px;
        height: 36px;
        margin-right: 10px;
        flex-shrink: 0;
    }

    .admin-pro-user-small-img img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        border-radius: 50%;
    }

    .admin-pro-user-small-placeholder {
        width: 100%;
        height: 100%;
        background: var(--bs-primary);
        color: white;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 600;
        border-radius: 50%;
        font-size: 14px;
    }

    /* Book Item Component */
    .admin-pro-book-item {
        display: flex;
        flex-direction: column;
    }

    .admin-pro-book-title {
        font-weight: 500;
        margin-bottom: 3px;
    }

    .admin-pro-book-id {
        font-size: 12px;
        color: var(--bs-gray-600);
    }

    /* Badge Styling */
    .admin-pro-badge {
        display: inline-block;
        padding: 5px 10px;
        border-radius: 50px;
        font-size: 12px;
        font-weight: 500;
    }

    .admin-pro-badge-primary {
        background-color: var(--bs-primary-bg-subtle);
        color: var(--bs-primary);
    }

    .admin-pro-badge-success {
        background-color: var(--bs-success-bg-subtle);
        color: var(--bs-success);
    }

    .admin-pro-badge-warning {
        background-color: var(--bs-warning-bg-subtle);
        color: var(--bs-warning);
    }

    .admin-pro-badge-danger {
        background-color: var(--bs-danger-bg-subtle);
        color: var(--bs-danger);
    }

    .admin-pro-badge-info {
        background-color: var(--bs-info-bg-subtle);
        color: var(--bs-info);
    }

    /* Empty State */
    .admin-pro-empty-state {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 30px;
        text-align: center;
    }

    .admin-pro-empty-icon {
        width: 70px;
        height: 70px;
        background: var(--bs-gray-200);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 30px;
        color: var(--bs-gray-600);
        margin-bottom: 15px;
    }

    .admin-pro-empty-state h4 {
        font-size: 18px;
        font-weight: 600;
        margin-bottom: 5px;
    }

    .admin-pro-empty-state p {
        color: var(--bs-gray-600);
        max-width: 300px;
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
        .admin-pro-welcome-message {
            flex-direction: column;
            text-align: center;
        }

        .admin-pro-welcome-icon {
            margin-right: 0;
            margin-bottom: 15px;
        }

        .admin-pro-stats-card {
            margin-bottom: 15px;
        }
    }
</style>
{% endblock %}

{% block page_actions %}
<a href="{% url 'books:add_book' %}" class="admin-pro-btn admin-pro-btn-primary">
    <i class="fas fa-plus"></i> Add Book
</a>
<a href="{% url 'library_admin:staff' %}" class="admin-pro-btn admin-pro-btn-outline">
    <i class="fas fa-user-plus"></i> Add Staff
</a>
{% endblock %}

{% block content %}
<!-- Enhanced Welcome Section with Indian Context -->
<div class="admin-pro-welcome-message mb-4 fade-in-up" style="animation-delay: 0.1s; background: linear-gradient(135deg, rgba(255, 153, 51, 0.1) 0%, rgba(19, 136, 8, 0.05) 100%); border-left: 4px solid #FF9933; border-radius: 8px; position: relative; overflow: hidden;">
    <!-- Indian Decorative Pattern -->
    <div style="position: absolute; top: 0; right: 0; width: 150px; height: 150px; opacity: 0.1; background-image: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"100\" viewBox=\"0 0 100 100\"><path d=\"M50,0 C77.6,0 100,22.4 100,50 C100,77.6 77.6,100 50,100 C22.4,100 0,77.6 0,50 C0,22.4 22.4,0 50,0 Z M50,25 C36.2,25 25,36.2 25,50 C25,63.8 36.2,75 50,75 C63.8,75 75,63.8 75,50 C75,36.2 63.8,25 50,25 Z\" fill=\"%23FF9933\"/></svg>'); background-repeat: no-repeat; background-position: center;"></div>

    <div class="admin-pro-welcome-icon pulse" style="background: linear-gradient(135deg, #FF9933 0%, #FF8C00 100%);">
        <i class="fas fa-book-reader"></i>
    </div>
    <div class="admin-pro-welcome-content">
        <h2>Welcome, {{ user.get_full_name|default:"Library Admin" }}! 🙏</h2>
        <p class="lead">Here's what's happening at your library today.</p>
        <div class="mt-3">
            <span class="badge" style="background-color: #138808; color: white;"><i class="fas fa-clock me-1"></i>Updated: {% now "g:i A" %}</span>
            <span class="badge ms-2" style="background-color: #FF9933; color: white;"><i class="fas fa-calendar me-1"></i>{% now "F j, Y" %}</span>
            <span class="badge ms-2" style="background-color: #000080; color: white;"><i class="fas fa-map-marker-alt me-1"></i>{{ library.city }}, {{ library.state }}</span>
            <span class="badge ms-2" style="background-color: #138808; color: white;"><i class="fas fa-book me-1"></i>Library ID: {{ library.id }}</span>
        </div>
    </div>
</div>

{% if pending_requests_count > 0 %}
<!-- Pending Membership Requests Alert with Indian Context -->
<div class="alert mb-4 fade-in-up d-flex align-items-center" style="animation-delay: 0.15s; background: linear-gradient(135deg, rgba(255, 153, 51, 0.1) 0%, rgba(19, 136, 8, 0.05) 100%); border-left: 4px solid #FF9933; border-radius: 8px;">
    <div style="font-size: 24px; margin-right: 15px; color: #FF9933;">
        <i class="fas fa-user-plus"></i>
    </div>
    <div class="flex-grow-1">
        <h4 class="alert-heading mb-1" style="color: #000080;">Pending Membership Requests</h4>
        <p class="mb-0">You have <strong style="color: #FF9933;">{{ pending_requests_count }}</strong> pending membership {% if pending_requests_count == 1 %}request{% else %}requests{% endif %} that {% if pending_requests_count == 1 %}requires{% else %}require{% endif %} your approval.</p>
    </div>
    <div>
        <a href="{% url 'library_admin:membership_requests' %}" class="btn" style="background-color: #FF9933; color: white; border: none;">
            <i class="fas fa-eye me-1"></i> View Requests
        </a>
    </div>
</div>
{% endif %}

    <!-- Library Info with Indian Context -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="admin-pro-card">
                <div class="admin-pro-card-header d-flex justify-content-between align-items-center" style="border-bottom: 2px solid #FF9933;">
                    <h3 class="admin-pro-card-title">
                        <i class="fas fa-building me-2" style="color: #FF9933;"></i>Library Information
                    </h3>
                    <div class="admin-pro-card-actions">
                        <a href="{% url 'library_admin:edit_library' %}" class="admin-pro-btn admin-pro-btn-sm admin-pro-btn-primary" style="background-color: #FF9933; border-color: #FF9933;">
                            <i class="fas fa-edit"></i> Edit Library
                        </a>
                        <a href="{% url 'libraries:library_detail' slug=library.slug %}" class="admin-pro-btn admin-pro-btn-sm admin-pro-btn-outline" style="border-color: #FF9933; color: #FF9933;">
                            <i class="fas fa-eye"></i> View Public Page
                        </a>
                    </div>
                </div>
                <div class="admin-pro-card-body">
                    <div class="row">
                        <div class="col-md-3">
                            <div class="admin-pro-library-image">
                                {% if library.image %}
                                    <img src="{{ library.image.url }}" alt="{{ library.name }}">
                                {% else %}
                                    <div class="admin-pro-library-placeholder">
                                        <i class="fas fa-building"></i>
                                    </div>
                                {% endif %}
                            </div>
                        </div>
                        <div class="col-md-9">
                            <div class="admin-pro-library-details">
                                <h3 class="admin-pro-library-name">{{ library.name }}</h3>
                                <div class="admin-pro-library-info">
                                    <div class="admin-pro-library-info-item">
                                        <div class="admin-pro-library-info-icon">
                                            <i class="fas fa-map-marker-alt"></i>
                                        </div>
                                        <div class="admin-pro-library-info-content">
                                            {{ library.address }}, {{ library.city }}, {{ library.state }}, {{ library.postal_code }}, {{ library.country }}
                                        </div>
                                    </div>
                                    <div class="admin-pro-library-info-item">
                                        <div class="admin-pro-library-info-icon">
                                            <i class="fas fa-phone"></i>
                                        </div>
                                        <div class="admin-pro-library-info-content">
                                            {{ library.phone }}
                                        </div>
                                    </div>
                                    <div class="admin-pro-library-info-item">
                                        <div class="admin-pro-library-info-icon">
                                            <i class="fas fa-envelope"></i>
                                        </div>
                                        <div class="admin-pro-library-info-content">
                                            {{ library.email }}
                                        </div>
                                    </div>
                                    {% if library.website %}
                                    <div class="admin-pro-library-info-item">
                                        <div class="admin-pro-library-info-icon">
                                            <i class="fas fa-globe"></i>
                                        </div>
                                        <div class="admin-pro-library-info-content">
                                            <a href="{{ library.website }}" target="_blank">{{ library.website }}</a>
                                        </div>
                                    </div>
                                    {% endif %}
                                    {% if library.opening_hours %}
                                    <div class="admin-pro-library-info-item">
                                        <div class="admin-pro-library-info-icon">
                                            <i class="fas fa-clock"></i>
                                        </div>
                                        <div class="admin-pro-library-info-content">
                                            {{ library.opening_hours }}
                                        </div>
                                    </div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Redesigned Statistics Cards with Indian Context -->
    <div class="row mb-4">
        <div class="col-md-3 fade-in-up" style="animation-delay: 0.2s">
            <div class="admin-pro-card stats-card">
                <div class="admin-pro-stats-card h-100" style="background: linear-gradient(135deg, #FF9933 0%, #FF9933 100%); color: white;">
                    <div class="admin-pro-stats-icon" style="background: rgba(255, 255, 255, 0.2);">
                        <i class="fas fa-book"></i>
                    </div>
                    <div class="admin-pro-stats-content">
                        <div class="d-flex align-items-baseline">
                            <h3 class="admin-pro-stats-value mb-0">{{ total_books }}</h3>
                            <small class="ms-2" style="color: #fff;">+{{ new_books_count }} new</small>
                        </div>
                        <p class="admin-pro-stats-label">Books</p>
                        <div class="admin-pro-stats-trend up">
                            <i class="fas fa-chart-line"></i> 3% from last month
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-3 fade-in-up" style="animation-delay: 0.2s">
            <div class="admin-pro-card stats-card">
                <div class="admin-pro-stats-card h-100" style="background: linear-gradient(135deg, #FFFFFF 0%, #F8F9FA 100%); color: #333; border: 1px solid #ddd;">
                    <div class="admin-pro-stats-icon" style="background: rgba(0, 0, 0, 0.1);">
                        <i class="fas fa-users"></i>
                    </div>
                    <div class="admin-pro-stats-content">
                        <div class="d-flex align-items-baseline">
                            <h3 class="admin-pro-stats-value mb-0">{{ staff_members }}</h3>
                            <small class="ms-2 text-success">+{{ new_staff_count }} new</small>
                        </div>
                        <p class="admin-pro-stats-label">Staff</p>
                        <div class="admin-pro-stats-trend up" style="color: #28a745;">
                            <i class="fas fa-chart-line"></i> 2% from last month
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-3 fade-in-up" style="animation-delay: 0.2s">
            <div class="admin-pro-card stats-card">
                <div class="admin-pro-stats-card h-100" style="background: linear-gradient(135deg, #138808 0%, #138808 100%); color: white;">
                    <div class="admin-pro-stats-icon" style="background: rgba(255, 255, 255, 0.2);">
                        <i class="fas fa-user-friends"></i>
                    </div>
                    <div class="admin-pro-stats-content">
                        <div class="d-flex align-items-baseline">
                            <h3 class="admin-pro-stats-value mb-0">{{ members }}</h3>
                            <small class="ms-2" style="color: #fff;">+{{ new_members_count }} new</small>
                        </div>
                        <p class="admin-pro-stats-label">Members</p>
                        <div class="admin-pro-stats-trend up">
                            <i class="fas fa-chart-line"></i> 5% from last month
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-3 fade-in-up" style="animation-delay: 0.2s">
            <div class="admin-pro-card stats-card">
                <div class="admin-pro-stats-card h-100" style="background: linear-gradient(135deg, #000080 0%, #000080 100%); color: white;">
                    <div class="admin-pro-stats-icon" style="background: rgba(255, 255, 255, 0.2);">
                        <i class="fas fa-exchange-alt"></i>
                    </div>
                    <div class="admin-pro-stats-content">
                        <div class="d-flex align-items-baseline">
                            <h3 class="admin-pro-stats-value mb-0">{{ transactions_count }}</h3>
                            <small class="ms-2" style="color: #fff;">+{{ new_transactions_count }} new</small>
                        </div>
                        <p class="admin-pro-stats-label">Transactions</p>
                        <div class="admin-pro-stats-trend up">
                            <i class="fas fa-chart-line"></i> 8% from last month
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- New Recent Activities Section with Indian Context -->
    <div class="row mb-4">
        <div class="col-md-8 fade-in-up" style="animation-delay: 0.3s">
            <div class="admin-pro-card">
                <div class="admin-pro-card-header d-flex justify-content-between align-items-center" style="border-bottom: 2px solid #FF9933;">
                    <h3 class="admin-pro-card-title">
                        <i class="fas fa-history me-2" style="color: #FF9933;"></i>Recent Activities
                    </h3>
                    <div class="btn-group">
                        <button type="button" class="btn btn-sm btn-outline-primary active" style="border-color: #FF9933; color: #FF9933;">All</button>
                        <button type="button" class="btn btn-sm btn-outline-primary" style="border-color: #FF9933; color: #FF9933;">Books</button>
                        <button type="button" class="btn btn-sm btn-outline-primary" style="border-color: #FF9933; color: #FF9933;">Members</button>
                    </div>
                </div>
                <div class="admin-pro-card-body p-0">
                    <div class="list-group list-group-flush">
                        {% for activity in recent_activities %}
                        <div class="list-group-item admin-pro-activity-item">
                            <div class="admin-pro-activity-icon bg-{{ activity.type }}-subtle text-{{ activity.type }}">
                                <i class="{{ activity.icon }}"></i>
                            </div>
                            <div class="admin-pro-activity-content">
                                <div class="d-flex w-100 justify-content-between align-items-center">
                                    <div class="admin-pro-activity-message">
                                        {{ activity.message }}
                                    </div>
                                    <small class="admin-pro-activity-time">{{ activity.timestamp|timesince }} ago</small>
                                </div>
                                {% if activity.details %}
                                <div class="admin-pro-activity-details">
                                    <small class="text-muted">{{ activity.details }}</small>
                                </div>
                                {% endif %}
                            </div>
                        </div>
                        {% empty %}
                        <div class="admin-pro-empty-state py-4">
                            <div class="admin-pro-empty-icon">
                                <i class="fas fa-history"></i>
                            </div>
                            <h4>No Recent Activities</h4>
                            <p>Activities will appear here as they occur.</p>
                        </div>
                        {% endfor %}
                    </div>

                    <style>
                        .admin-pro-activity-item {
                            display: flex;
                            align-items: flex-start;
                            padding: 15px;
                            transition: all 0.2s ease;
                            border-left: 3px solid transparent;
                        }

                        .admin-pro-activity-item:hover {
                            background-color: var(--bs-gray-100);
                            border-left-color: var(--bs-primary);
                        }

                        .admin-pro-activity-icon {
                            width: 40px;
                            height: 40px;
                            border-radius: 50%;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            margin-right: 15px;
                            flex-shrink: 0;
                        }

                        .admin-pro-activity-content {
                            flex: 1;
                        }

                        .admin-pro-activity-message {
                            font-weight: 500;
                            margin-bottom: 3px;
                        }

                        .admin-pro-activity-time {
                            color: var(--bs-gray-600);
                            font-size: 12px;
                            white-space: nowrap;
                            margin-left: 10px;
                        }

                        .admin-pro-activity-details {
                            margin-top: 5px;
                            font-size: 13px;
                        }
                    </style>
                </div>
            </div>
        </div>

        <!-- Pending Membership Requests Section with Indian Context -->
        <div class="col-md-4 fade-in-up" style="animation-delay: 0.4s">
            <div class="admin-pro-card">
                <div class="admin-pro-card-header d-flex justify-content-between align-items-center" style="border-bottom: 2px solid #000080;">
                    <h3 class="admin-pro-card-title">
                        <i class="fas fa-user-plus me-2" style="color: #000080;"></i>Pending Requests
                    </h3>
                    <a href="{% url 'library_admin:membership_requests' %}" class="admin-pro-btn admin-pro-btn-sm admin-pro-btn-outline" style="border-color: #000080; color: #000080;">
                        <i class="fas fa-external-link-alt"></i> View All
                    </a>
                </div>
                <div class="admin-pro-card-body p-0">
                    <div class="list-group list-group-flush">
                        {% for request in pending_requests %}
                        <div class="list-group-item d-flex align-items-center p-3">
                            <div class="flex-shrink-0 me-3">
                                {% if request.user.profile_picture %}
                                <img src="{{ request.user.profile_picture.url }}" alt="{{ request.user.get_full_name }}" class="rounded-circle" width="40" height="40">
                                {% else %}
                                <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center" style="width: 40px; height: 40px;">
                                    <i class="fas fa-user"></i>
                                </div>
                                {% endif %}
                            </div>
                            <div class="flex-grow-1">
                                <h6 class="mb-0">{{ request.user.get_full_name }}</h6>
                                <small class="text-muted">{{ request.user.email }}</small>
                                <div>
                                    <small class="text-muted">Requested: {{ request.request_date|date:"M d, Y" }}</small>
                                </div>
                            </div>
                            <div class="ms-2">
                                <a href="{% url 'library_admin:membership_requests' %}?id={{ request.id }}" class="btn btn-sm btn-outline-primary">
                                    <i class="fas fa-eye"></i>
                                </a>
                            </div>
                        </div>
                        {% empty %}
                        <div class="p-4 text-center">
                            <div class="mb-3">
                                <i class="fas fa-check-circle text-success" style="font-size: 48px;"></i>
                            </div>
                            <h5>No Pending Requests</h5>
                            <p class="text-muted">All membership requests have been processed.</p>
                        </div>
                        {% endfor %}
                    </div>

                    {% if pending_requests_count > 5 %}
                    <div class="p-3 text-center border-top">
                        <a href="{% url 'library_admin:membership_requests' %}" class="text-decoration-none">
                            View all {{ pending_requests_count }} pending requests <i class="fas fa-arrow-right ms-1"></i>
                        </a>
                    </div>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced Quick Actions with Indian Context -->
    <div class="row mb-4 fade-in-up" style="animation-delay: 0.5s">
        <div class="col-12">
            <div class="admin-pro-card">
                <div class="admin-pro-card-header" style="border-bottom: 2px solid #FF9933;">
                    <h3 class="admin-pro-card-title">
                        <i class="fas fa-bolt me-2" style="color: #FF9933;"></i>Quick Actions
                    </h3>
                </div>
                <div class="admin-pro-card-body">
                    <div class="row g-3">
                        <div class="col-md-3 col-sm-6">
                            <a href="{% url 'books:add_book' %}" class="quick-action-card d-flex align-items-center p-3 rounded-3 text-decoration-none">
                                <div class="quick-action-icon rounded-circle p-3 me-3" style="background-color: #FF9933;">
                                    <i class="fas fa-book-medical text-white"></i>
                                </div>
                                <div>
                                    <h4 class="h6 mb-1">Add New Book</h4>
                                    <small class="text-muted">Add to your collection</small>
                                </div>
                            </a>
                        </div>
                        <div class="col-md-3 col-sm-6">
                            <a href="{% url 'library_admin:staff' %}" class="quick-action-card d-flex align-items-center p-3 rounded-3 text-decoration-none">
                                <div class="quick-action-icon rounded-circle p-3 me-3" style="background-color: #FFFFFF; border: 1px solid #ddd;">
                                    <i class="fas fa-users" style="color: #333;"></i>
                                </div>
                                <div>
                                    <h4 class="h6 mb-1">Manage Staff</h4>
                                    <small class="text-muted">Add or edit staff</small>
                                </div>
                            </a>
                        </div>
                        <div class="col-md-3 col-sm-6">
                            <a href="{% url 'books:manage_books' %}" class="quick-action-card d-flex align-items-center p-3 rounded-3 text-decoration-none">
                                <div class="quick-action-icon rounded-circle p-3 me-3" style="background-color: #138808;">
                                    <i class="fas fa-book text-white"></i>
                                </div>
                                <div>
                                    <h4 class="h6 mb-1">Manage Books</h4>
                                    <small class="text-muted">View and edit books</small>
                                </div>
                            </a>
                        </div>
                        <div class="col-md-3 col-sm-6">
                            <a href="{% url 'library_admin:members' %}" class="quick-action-card d-flex align-items-center p-3 rounded-3 text-decoration-none">
                                <div class="quick-action-icon rounded-circle p-3 me-3" style="background-color: #000080;">
                                    <i class="fas fa-user-friends text-white"></i>
                                </div>
                                <div>
                                    <h4 class="h6 mb-1">Manage Members</h4>
                                    <small class="text-muted">View and edit members</small>
                                </div>
                            </a>
                        </div>
                        <div class="col-md-3 col-sm-6">
                            <a href="{% url 'library_admin:membership_requests' %}" class="quick-action-card d-flex align-items-center p-3 rounded-3 text-decoration-none">
                                <div class="quick-action-icon rounded-circle p-3 me-3" style="background-color: #FF9933;">
                                    <i class="fas fa-user-plus text-white"></i>
                                </div>
                                <div>
                                    <h4 class="h6 mb-1">Membership Requests</h4>
                                    <small class="text-muted">{% if pending_requests_count > 0 %}<span class="text-danger">{{ pending_requests_count }} pending</span>{% else %}No pending requests{% endif %}</small>
                                </div>
                            </a>
                        </div>
                        <div class="col-md-3 col-sm-6">
                            <a href="{% url 'transactions:transaction_reports' %}" class="quick-action-card d-flex align-items-center p-3 rounded-3 text-decoration-none">
                                <div class="quick-action-icon rounded-circle p-3 me-3" style="background-color: #138808;">
                                    <i class="fas fa-chart-bar text-white"></i>
                                </div>
                                <div>
                                    <h4 class="h6 mb-1">View Reports</h4>
                                    <small class="text-muted">Analytics and statistics</small>
                                </div>
                            </a>
                        </div>
                        <div class="col-md-3 col-sm-6">
                            <a href="{% url 'transactions:borrow_book' %}" class="quick-action-card d-flex align-items-center p-3 rounded-3 text-decoration-none">
                                <div class="quick-action-icon rounded-circle p-3 me-3" style="background-color: #000080;">
                                    <i class="fas fa-arrow-circle-right text-white"></i>
                                </div>
                                <div>
                                    <h4 class="h6 mb-1">Borrow Book</h4>
                                    <small class="text-muted">Issue books to members</small>
                                </div>
                            </a>
                        </div>
                        <div class="col-md-3 col-sm-6">
                            <a href="{% url 'transactions:return_book' %}" class="quick-action-card d-flex align-items-center p-3 rounded-3 text-decoration-none">
                                <div class="quick-action-icon rounded-circle p-3 me-3" style="background-color: #138808;">
                                    <i class="fas fa-arrow-circle-left text-white"></i>
                                </div>
                                <div>
                                    <h4 class="h6 mb-1">Return Book</h4>
                                    <small class="text-muted">Process book returns</small>
                                </div>
                            </a>
                        </div>
                        <div class="col-md-3 col-sm-6">
                            <a href="{% url 'library_admin:settings' %}" class="quick-action-card d-flex align-items-center p-3 rounded-3 text-decoration-none">
                                <div class="quick-action-icon rounded-circle p-3 me-3" style="background-color: #FF9933;">
                                    <i class="fas fa-cog text-white"></i>
                                </div>
                                <div>
                                    <h4 class="h6 mb-1">Settings</h4>
                                    <small class="text-muted">Configure your library</small>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Enhanced Indian Literature Spotlight Section -->
    <div class="row mb-4 fade-in-up" style="animation-delay: 0.55s">
        <div class="col-12">
            <div class="admin-pro-card">
                <div class="admin-pro-card-header d-flex justify-content-between align-items-center" style="border-bottom: 2px solid #000080;">
                    <h3 class="admin-pro-card-title">
                        <i class="fas fa-book-reader me-2" style="color: #000080;"></i>Indian Literature Spotlight
                    </h3>
                    <div>
                        <select class="form-select form-select-sm d-inline-block me-2" style="width: auto;">
                            <option value="all">All Languages</option>
                            <option value="hindi">Hindi</option>
                            <option value="tamil">Tamil</option>
                            <option value="bengali">Bengali</option>
                            <option value="telugu">Telugu</option>
                            <option value="marathi">Marathi</option>
                            <option value="gujarati">Gujarati</option>
                            <option value="kannada">Kannada</option>
                            <option value="malayalam">Malayalam</option>
                            <option value="punjabi">Punjabi</option>
                            <option value="odia">Odia</option>
                            <option value="urdu">Urdu</option>
                            <option value="sanskrit">Sanskrit</option>
                        </select>
                        <a href="{% url 'books:book_list' %}" class="admin-pro-btn admin-pro-btn-sm admin-pro-btn-outline" style="border-color: #000080; color: #000080;">
                            <i class="fas fa-external-link-alt"></i> Browse All Books
                        </a>
                    </div>
                </div>
                <div class="admin-pro-card-body">
                    <!-- Language Categories Tabs -->
                    <ul class="nav nav-tabs mb-3" id="literatureTab" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="categories-tab" data-bs-toggle="tab" data-bs-target="#categories" type="button" role="tab" aria-controls="categories" aria-selected="true">Categories</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="authors-tab" data-bs-toggle="tab" data-bs-target="#authors" type="button" role="tab" aria-controls="authors" aria-selected="false">Popular Authors</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="languages-tab" data-bs-toggle="tab" data-bs-target="#languages" type="button" role="tab" aria-controls="languages" aria-selected="false">Languages</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="initiatives-tab" data-bs-toggle="tab" data-bs-target="#initiatives" type="button" role="tab" aria-controls="initiatives" aria-selected="false">Initiatives</button>
                        </li>
                    </ul>

                    <div class="tab-content" id="literatureTabContent">
                        <!-- Categories Tab -->
                        <div class="tab-pane fade show active" id="categories" role="tabpanel" aria-labelledby="categories-tab">
                            <div class="row">
                                <div class="col-md-3 mb-3">
                                    <div class="card h-100 border-0 shadow-sm hover-card">
                                        <div class="card-body text-center p-3">
                                            <div class="mb-3">
                                                <span class="d-inline-block rounded-circle p-3" style="background-color: rgba(255, 153, 51, 0.1);">
                                                    <i class="fas fa-book fa-2x" style="color: #FF9933;"></i>
                                                </span>
                                            </div>
                                            <h5 class="card-title">Regional Literature</h5>
                                            <p class="card-text small">Promote regional Indian literature by adding books in local languages.</p>
                                            <a href="{% url 'books:add_book' %}" class="btn btn-sm" style="background-color: #FF9933; color: white;">Add Books</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 mb-3">
                                    <div class="card h-100 border-0 shadow-sm hover-card">
                                        <div class="card-body text-center p-3">
                                            <div class="mb-3">
                                                <span class="d-inline-block rounded-circle p-3" style="background-color: rgba(19, 136, 8, 0.1);">
                                                    <i class="fas fa-users fa-2x" style="color: #138808;"></i>
                                                </span>
                                            </div>
                                            <h5 class="card-title">Reading Groups</h5>
                                            <p class="card-text small">Create reading groups focused on Indian authors and literature.</p>
                                            <a href="#" class="btn btn-sm" style="background-color: #138808; color: white;">Create Group</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 mb-3">
                                    <div class="card h-100 border-0 shadow-sm hover-card">
                                        <div class="card-body text-center p-3">
                                            <div class="mb-3">
                                                <span class="d-inline-block rounded-circle p-3" style="background-color: rgba(0, 0, 128, 0.1);">
                                                    <i class="fas fa-calendar-alt fa-2x" style="color: #000080;"></i>
                                                </span>
                                            </div>
                                            <h5 class="card-title">Cultural Events</h5>
                                            <p class="card-text small">Plan and organize cultural events and literary festivals.</p>
                                            <a href="#" class="btn btn-sm" style="background-color: #000080; color: white;">Plan Event</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 mb-3">
                                    <div class="card h-100 border-0 shadow-sm hover-card">
                                        <div class="card-body text-center p-3">
                                            <div class="mb-3">
                                                <span class="d-inline-block rounded-circle p-3" style="background-color: rgba(255, 153, 51, 0.1);">
                                                    <i class="fas fa-graduation-cap fa-2x" style="color: #FF9933;"></i>
                                                </span>
                                            </div>
                                            <h5 class="card-title">Educational Resources</h5>
                                            <p class="card-text small">Add educational resources about Indian history and culture.</p>
                                            <a href="{% url 'books:add_book' %}" class="btn btn-sm" style="background-color: #FF9933; color: white;">Add Resources</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Authors Tab -->
                        <div class="tab-pane fade" id="authors" role="tabpanel" aria-labelledby="authors-tab">
                            <div class="row">
                                <div class="col-md-3 mb-3">
                                    <div class="card h-100 border-0 shadow-sm hover-card">
                                        <div class="card-body p-3">
                                            <div class="d-flex align-items-center mb-3">
                                                <div class="rounded-circle p-2 me-3" style="background-color: rgba(255, 153, 51, 0.1);">
                                                    <i class="fas fa-user fa-lg" style="color: #FF9933;"></i>
                                                </div>
                                                <h5 class="card-title mb-0">Rabindranath Tagore</h5>
                                            </div>
                                            <p class="card-text small mb-2">Nobel laureate and author of Gitanjali, a collection of poems.</p>
                                            <div class="d-flex justify-content-between align-items-center">
                                                <span class="badge" style="background-color: #FF9933;">Bengali</span>
                                                <a href="#" class="btn btn-sm btn-link" style="color: #FF9933;">View Books</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 mb-3">
                                    <div class="card h-100 border-0 shadow-sm hover-card">
                                        <div class="card-body p-3">
                                            <div class="d-flex align-items-center mb-3">
                                                <div class="rounded-circle p-2 me-3" style="background-color: rgba(19, 136, 8, 0.1);">
                                                    <i class="fas fa-user fa-lg" style="color: #138808;"></i>
                                                </div>
                                                <h5 class="card-title mb-0">Premchand</h5>
                                            </div>
                                            <p class="card-text small mb-2">Pioneer of Hindi and Urdu literature with works like Godaan.</p>
                                            <div class="d-flex justify-content-between align-items-center">
                                                <span class="badge" style="background-color: #138808; color: white;">Hindi/Urdu</span>
                                                <a href="#" class="btn btn-sm btn-link" style="color: #138808;">View Books</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 mb-3">
                                    <div class="card h-100 border-0 shadow-sm hover-card">
                                        <div class="card-body p-3">
                                            <div class="d-flex align-items-center mb-3">
                                                <div class="rounded-circle p-2 me-3" style="background-color: rgba(0, 0, 128, 0.1);">
                                                    <i class="fas fa-user fa-lg" style="color: #000080;"></i>
                                                </div>
                                                <h5 class="card-title mb-0">R.K. Narayan</h5>
                                            </div>
                                            <p class="card-text small mb-2">Creator of the fictional town of Malgudi and author of The Guide.</p>
                                            <div class="d-flex justify-content-between align-items-center">
                                                <span class="badge" style="background-color: #000080; color: white;">English</span>
                                                <a href="#" class="btn btn-sm btn-link" style="color: #000080;">View Books</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-3 mb-3">
                                    <div class="card h-100 border-0 shadow-sm hover-card">
                                        <div class="card-body p-3">
                                            <div class="d-flex align-items-center mb-3">
                                                <div class="rounded-circle p-2 me-3" style="background-color: rgba(255, 153, 51, 0.1);">
                                                    <i class="fas fa-user fa-lg" style="color: #FF9933;"></i>
                                                </div>
                                                <h5 class="card-title mb-0">Amrita Pritam</h5>
                                            </div>
                                            <p class="card-text small mb-2">Prominent Punjabi poet and novelist known for Pinjar.</p>
                                            <div class="d-flex justify-content-between align-items-center">
                                                <span class="badge" style="background-color: #FF9933;">Punjabi</span>
                                                <a href="#" class="btn btn-sm btn-link" style="color: #FF9933;">View Books</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Languages Tab -->
                        <div class="tab-pane fade" id="languages" role="tabpanel" aria-labelledby="languages-tab">
                            <div class="row">
                                <div class="col-md-2 col-sm-4 mb-3">
                                    <div class="card h-100 border-0 shadow-sm hover-card">
                                        <div class="card-body text-center p-3">
                                            <h5 class="card-title">Hindi</h5>
                                            <p class="card-text">Hindi</p>
                                            <div class="progress mb-2" style="height: 5px;">
                                                <div class="progress-bar" role="progressbar" style="width: 85%; background-color: #FF9933;" aria-valuenow="85" aria-valuemin="0" aria-valuemax="100"></div>
                                            </div>
                                            <small class="text-muted">342 books</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-2 col-sm-4 mb-3">
                                    <div class="card h-100 border-0 shadow-sm hover-card">
                                        <div class="card-body text-center p-3">
                                            <h5 class="card-title">Tamil</h5>
                                            <p class="card-text">Tamil</p>
                                            <div class="progress mb-2" style="height: 5px;">
                                                <div class="progress-bar" role="progressbar" style="width: 65%; background-color: #138808;" aria-valuenow="65" aria-valuemin="0" aria-valuemax="100"></div>
                                            </div>
                                            <small class="text-muted">256 books</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-2 col-sm-4 mb-3">
                                    <div class="card h-100 border-0 shadow-sm hover-card">
                                        <div class="card-body text-center p-3">
                                            <h5 class="card-title">Bengali</h5>
                                            <p class="card-text">Bengali</p>
                                            <div class="progress mb-2" style="height: 5px;">
                                                <div class="progress-bar" role="progressbar" style="width: 70%; background-color: #000080;" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100"></div>
                                            </div>
                                            <small class="text-muted">278 books</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-2 col-sm-4 mb-3">
                                    <div class="card h-100 border-0 shadow-sm hover-card">
                                        <div class="card-body text-center p-3">
                                            <h5 class="card-title">Telugu</h5>
                                            <p class="card-text">Telugu</p>
                                            <div class="progress mb-2" style="height: 5px;">
                                                <div class="progress-bar" role="progressbar" style="width: 55%; background-color: #FF9933;" aria-valuenow="55" aria-valuemin="0" aria-valuemax="100"></div>
                                            </div>
                                            <small class="text-muted">218 books</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-2 col-sm-4 mb-3">
                                    <div class="card h-100 border-0 shadow-sm hover-card">
                                        <div class="card-body text-center p-3">
                                            <h5 class="card-title">Marathi</h5>
                                            <p class="card-text">Marathi</p>
                                            <div class="progress mb-2" style="height: 5px;">
                                                <div class="progress-bar" role="progressbar" style="width: 60%; background-color: #138808;" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100"></div>
                                            </div>
                                            <small class="text-muted">235 books</small>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-2 col-sm-4 mb-3">
                                    <div class="card h-100 border-0 shadow-sm hover-card">
                                        <div class="card-body text-center p-3">
                                            <h5 class="card-title">Punjabi</h5>
                                            <p class="card-text">Punjabi</p>
                                            <div class="progress mb-2" style="height: 5px;">
                                                <div class="progress-bar" role="progressbar" style="width: 45%; background-color: #000080;" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100"></div>
                                            </div>
                                            <small class="text-muted">182 books</small>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Initiatives Tab -->
                        <div class="tab-pane fade" id="initiatives" role="tabpanel" aria-labelledby="initiatives-tab">
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <div class="card h-100 border-0 shadow-sm hover-card">
                                        <div class="card-body p-3">
                                            <h5 class="card-title" style="color: #FF9933;">National Book Trust Collaboration</h5>
                                            <p class="card-text">Partner with National Book Trust India to promote reading and literature across the country.</p>
                                            <a href="#" class="btn btn-sm" style="background-color: #FF9933; color: white;">Learn More</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6 mb-3">
                                    <div class="card h-100 border-0 shadow-sm hover-card">
                                        <div class="card-body p-3">
                                            <h5 class="card-title" style="color: #138808;">Sahitya Akademi Awards</h5>
                                            <p class="card-text">Highlight Sahitya Akademi award-winning books in your collection to promote literary excellence.</p>
                                            <a href="#" class="btn btn-sm" style="background-color: #138808; color: white;">View Award Winners</a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Indian Library Compliance and Standards -->
    <div class="row mb-4 fade-in-up" style="animation-delay: 0.58s">
        <div class="col-12">
            <div class="admin-pro-card">
                <div class="admin-pro-card-header d-flex justify-content-between align-items-center" style="border-bottom: 2px solid #FF9933;">
                    <h3 class="admin-pro-card-title">
                        <i class="fas fa-clipboard-check me-2" style="color: #FF9933;"></i>Library Compliance
                    </h3>
                    <a href="#" class="admin-pro-btn admin-pro-btn-sm admin-pro-btn-outline" style="border-color: #FF9933; color: #FF9933;">
                        <i class="fas fa-external-link-alt"></i> View All Requirements
                    </a>
                </div>
                <div class="admin-pro-card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <h5 class="mb-3" style="color: #000080;">Compliance Status</h5>
                            <div class="mb-4">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <span>Public Library Act Compliance</span>
                                    <span class="badge bg-success">Compliant</span>
                                </div>
                                <div class="progress" style="height: 8px;">
                                    <div class="progress-bar" role="progressbar" style="width: 100%; background-color: #138808;" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                            </div>
                            <div class="mb-4">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <span>Accessibility Standards</span>
                                    <span class="badge bg-warning text-dark">In Progress</span>
                                </div>
                                <div class="progress" style="height: 8px;">
                                    <div class="progress-bar" role="progressbar" style="width: 65%; background-color: #FF9933;" aria-valuenow="65" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                            </div>
                            <div class="mb-4">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <span>Digital Library Standards</span>
                                    <span class="badge bg-warning text-dark">In Progress</span>
                                </div>
                                <div class="progress" style="height: 8px;">
                                    <div class="progress-bar" role="progressbar" style="width: 45%; background-color: #FF9933;" aria-valuenow="45" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                            </div>
                            <div class="mb-4">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <span>Multi-language Support</span>
                                    <span class="badge bg-success">Compliant</span>
                                </div>
                                <div class="progress" style="height: 8px;">
                                    <div class="progress-bar" role="progressbar" style="width: 90%; background-color: #138808;" aria-valuenow="90" aria-valuemin="0" aria-valuemax="100"></div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <h5 class="mb-3" style="color: #000080;">Upcoming Requirements</h5>
                            <div class="list-group">
                                <div class="list-group-item border-0 mb-2 rounded" style="background-color: rgba(255, 153, 51, 0.1);">
                                    <div class="d-flex w-100 justify-content-between">
                                        <h6 class="mb-1">Digital Cataloging Standards</h6>
                                        <small>Due: 30 days</small>
                                    </div>
                                    <p class="mb-1 small">Update catalog to comply with National Digital Library standards.</p>
                                    <div class="d-flex justify-content-end">
                                        <a href="#" class="btn btn-sm" style="background-color: #FF9933; color: white;">Start</a>
                                    </div>
                                </div>
                                <div class="list-group-item border-0 mb-2 rounded" style="background-color: rgba(19, 136, 8, 0.1);">
                                    <div class="d-flex w-100 justify-content-between">
                                        <h6 class="mb-1">Accessibility Audit</h6>
                                        <small>Due: 45 days</small>
                                    </div>
                                    <p class="mb-1 small">Complete accessibility audit as per government guidelines.</p>
                                    <div class="d-flex justify-content-end">
                                        <a href="#" class="btn btn-sm" style="background-color: #138808; color: white;">Schedule</a>
                                    </div>
                                </div>
                                <div class="list-group-item border-0 mb-2 rounded" style="background-color: rgba(0, 0, 128, 0.1);">
                                    <div class="d-flex w-100 justify-content-between">
                                        <h6 class="mb-1">Annual Compliance Report</h6>
                                        <small>Due: 90 days</small>
                                    </div>
                                    <p class="mb-1 small">Prepare and submit annual compliance report to library authorities.</p>
                                    <div class="d-flex justify-content-end">
                                        <a href="#" class="btn btn-sm" style="background-color: #000080; color: white;">Prepare</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Recent Transactions with Indian Context -->
    <div class="row mb-4 fade-in-up" style="animation-delay: 0.6s">
        <div class="col-12">
            <div class="admin-pro-card">
                <div class="admin-pro-card-header d-flex justify-content-between align-items-center" style="border-bottom: 2px solid #138808;">
                    <h3 class="admin-pro-card-title">
                        <i class="fas fa-exchange-alt me-2" style="color: #138808;"></i>Recent Transactions
                    </h3>
                    <div class="admin-pro-card-actions">
                        <div class="btn-group me-2">
                            <button type="button" class="admin-pro-btn admin-pro-btn-sm admin-pro-btn-outline active" data-filter="all" style="border-color: #138808; color: #138808;">All</button>
                            <button type="button" class="admin-pro-btn admin-pro-btn-sm admin-pro-btn-outline" data-filter="BORROW" style="border-color: #138808; color: #138808;">Borrows</button>
                            <button type="button" class="admin-pro-btn admin-pro-btn-sm admin-pro-btn-outline" data-filter="RETURN" style="border-color: #138808; color: #138808;">Returns</button>
                            <button type="button" class="admin-pro-btn admin-pro-btn-sm admin-pro-btn-outline" data-filter="RESERVE" style="border-color: #138808; color: #138808;">Reserves</button>
                        </div>
                        <a href="{% url 'transactions:transaction_list' %}" class="admin-pro-btn admin-pro-btn-sm admin-pro-btn-primary" style="background-color: #138808; border-color: #138808;">
                            <i class="fas fa-list"></i> View All
                        </a>
                    </div>
                </div>
                <div class="admin-pro-card-body">
                    <div class="admin-pro-table-responsive">
                        <table class="admin-pro-table">
                            <thead>
                                <tr>
                                    <th>Date</th>
                                    <th>User</th>
                                    <th>Book</th>
                                    <th>Type</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for transaction in transactions|slice:":5" %}
                                    <tr class="transaction-row" data-type="{{ transaction.transaction_type }}">
                                        <td>
                                            <div class="d-flex flex-column">
                                                <span>{{ transaction.transaction_date|date:"M d, Y" }}</span>
                                                <small class="text-muted">{{ transaction.transaction_date|time:"g:i A" }}</small>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="admin-pro-user-small">
                                                <div class="admin-pro-user-small-img">
                                                    {% if transaction.user.profile_picture %}
                                                        <img src="{{ transaction.user.profile_picture.url }}" alt="{{ transaction.user.get_full_name }}">
                                                    {% else %}
                                                        <div class="admin-pro-user-small-placeholder">
                                                            {{ transaction.user.get_initials }}
                                                        </div>
                                                    {% endif %}
                                                </div>
                                                <div class="admin-pro-user-small-content">
                                                    <div>{{ transaction.user.get_full_name|default:transaction.user.email }}</div>
                                                    <small class="text-muted">ID: {{ transaction.user.id }}</small>
                                                </div>
                                            </div>
                                        </td>
                                        <td>
                                            <div class="admin-pro-book-item">
                                                <div class="admin-pro-book-title">{{ transaction.book_copy.book.title|truncatechars:30 }}</div>
                                                <div class="admin-pro-book-id">ID: {{ transaction.book_copy.inventory_number }}</div>
                                            </div>
                                        </td>
                                        <td>
                                            {% if transaction.transaction_type == 'BORROW' %}
                                                <span class="admin-pro-badge admin-pro-badge-primary">
                                                    <i class="fas fa-arrow-circle-right me-1"></i> Borrow
                                                </span>
                                            {% elif transaction.transaction_type == 'RETURN' %}
                                                <span class="admin-pro-badge admin-pro-badge-success">
                                                    <i class="fas fa-arrow-circle-left me-1"></i> Return
                                                </span>
                                            {% elif transaction.transaction_type == 'RESERVE' %}
                                                <span class="admin-pro-badge admin-pro-badge-warning">
                                                    <i class="fas fa-bookmark me-1"></i> Reserve
                                                </span>
                                            {% else %}
                                                <span class="admin-pro-badge admin-pro-badge-info">
                                                    <i class="fas fa-exchange-alt me-1"></i> {{ transaction.transaction_type|title }}
                                                </span>
                                            {% endif %}
                                        </td>
                                        <td>
                                            {% if transaction.status == 'COMPLETED' %}
                                                <span class="admin-pro-badge admin-pro-badge-success">
                                                    <i class="fas fa-check-circle me-1"></i> Completed
                                                </span>
                                            {% elif transaction.status == 'PENDING' %}
                                                <span class="admin-pro-badge admin-pro-badge-warning">
                                                    <i class="fas fa-clock me-1"></i> Pending
                                                </span>
                                            {% elif transaction.status == 'OVERDUE' %}
                                                <span class="admin-pro-badge admin-pro-badge-danger">
                                                    <i class="fas fa-exclamation-circle me-1"></i> Overdue
                                                </span>
                                            {% else %}
                                                <span class="admin-pro-badge admin-pro-badge-info">
                                                    <i class="fas fa-info-circle me-1"></i> {{ transaction.status|title }}
                                                </span>
                                            {% endif %}

                                            {% if transaction.due_date and transaction.transaction_type == 'BORROW' and transaction.status != 'COMPLETED' %}
                                                <div class="mt-1 small text-muted">
                                                    Due: {{ transaction.due_date|date:"M d, Y" }}
                                                </div>
                                            {% endif %}
                                        </td>
                                        <td>
                                            <div class="admin-pro-table-actions">
                                                <a href="{% url 'transactions:transaction_detail' transaction_id=transaction.transaction_id %}" class="admin-pro-btn admin-pro-btn-sm admin-pro-btn-info admin-pro-btn-icon" title="View Details">
                                                    <i class="fas fa-eye"></i>
                                                </a>

                                                {% if transaction.transaction_type == 'BORROW' and transaction.status != 'COMPLETED' %}
                                                    <a href="{% url 'transactions:return_book' %}?transaction_id={{ transaction.transaction_id }}" class="admin-pro-btn admin-pro-btn-sm admin-pro-btn-success admin-pro-btn-icon" title="Return Book">
                                                        <i class="fas fa-undo"></i>
                                                    </a>
                                                {% endif %}

                                                {% if transaction.transaction_type == 'RESERVE' and transaction.status == 'PENDING' %}
                                                    <a href="{% url 'transactions:borrow_book' %}?reservation_id={{ transaction.transaction_id }}" class="admin-pro-btn admin-pro-btn-sm admin-pro-btn-primary admin-pro-btn-icon" title="Convert to Borrow">
                                                        <i class="fas fa-exchange-alt"></i>
                                                    </a>
                                                {% endif %}
                                            </div>
                                        </td>
                                    </tr>
                                {% empty %}
                                    <tr>
                                        <td colspan="6" class="text-center">
                                            <div class="admin-pro-empty-state">
                                                <div class="admin-pro-empty-icon">
                                                    <i class="fas fa-exchange-alt"></i>
                                                </div>
                                                <h4>No Transactions Yet</h4>
                                                <p>Transactions will appear here as they are created.</p>
                                            </div>
                                        </td>
                                    </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Indian Festivals and Events Calendar -->
    <div class="row mb-4 fade-in-up" style="animation-delay: 0.7s">
        <div class="col-12">
            <div class="admin-pro-card">
                <div class="admin-pro-card-header d-flex justify-content-between align-items-center" style="border-bottom: 2px solid #FF9933;">
                    <h3 class="admin-pro-card-title">
                        <i class="fas fa-calendar-day me-2" style="color: #FF9933;"></i>Indian Festivals & Events
                    </h3>
                    <a href="#" class="admin-pro-btn admin-pro-btn-sm admin-pro-btn-outline" style="border-color: #FF9933; color: #FF9933;">
                        <i class="fas fa-plus"></i> Add Event
                    </a>
                </div>
                <div class="admin-pro-card-body">
                    <div class="row">
                        <div class="col-md-3 mb-3">
                            <div class="card border-0 shadow-sm h-100">
                                <div class="card-body p-3">
                                    <div class="d-flex align-items-center mb-3">
                                        <div class="rounded-circle p-2 me-3" style="background-color: rgba(255, 153, 51, 0.1);">
                                            <i class="fas fa-book fa-lg" style="color: #FF9933;"></i>
                                        </div>
                                        <h5 class="card-title mb-0">World Book Day</h5>
                                    </div>
                                    <p class="card-text small mb-2">Celebrate with special reading sessions and book donations.</p>
                                    <div class="d-flex justify-content-between align-items-center">
                                        <span class="badge" style="background-color: #FF9933;">Apr 23, 2023</span>
                                        <a href="#" class="btn btn-sm btn-link" style="color: #FF9933;">Details</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="card border-0 shadow-sm h-100">
                                <div class="card-body p-3">
                                    <div class="d-flex align-items-center mb-3">
                                        <div class="rounded-circle p-2 me-3" style="background-color: rgba(19, 136, 8, 0.1);">
                                            <i class="fas fa-landmark fa-lg" style="color: #138808;"></i>
                                        </div>
                                        <h5 class="card-title mb-0">Hindi Diwas</h5>
                                    </div>
                                    <p class="card-text small mb-2">Promote Hindi literature with special displays and readings.</p>
                                    <div class="d-flex justify-content-between align-items-center">
                                        <span class="badge" style="background-color: #138808; color: white;">Sep 14, 2023</span>
                                        <a href="#" class="btn btn-sm btn-link" style="color: #138808;">Details</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="card border-0 shadow-sm h-100">
                                <div class="card-body p-3">
                                    <div class="d-flex align-items-center mb-3">
                                        <div class="rounded-circle p-2 me-3" style="background-color: rgba(0, 0, 128, 0.1);">
                                            <i class="fas fa-lightbulb fa-lg" style="color: #000080;"></i>
                                        </div>
                                        <h5 class="card-title mb-0">National Library Week</h5>
                                    </div>
                                    <p class="card-text small mb-2">Week-long celebration with various activities and workshops.</p>
                                    <div class="d-flex justify-content-between align-items-center">
                                        <span class="badge" style="background-color: #000080; color: white;">Nov 14-20, 2023</span>
                                        <a href="#" class="btn btn-sm btn-link" style="color: #000080;">Details</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="card border-0 shadow-sm h-100">
                                <div class="card-body p-3">
                                    <div class="d-flex align-items-center mb-3">
                                        <div class="rounded-circle p-2 me-3" style="background-color: rgba(255, 153, 51, 0.1);">
                                            <i class="fas fa-users fa-lg" style="color: #FF9933;"></i>
                                        </div>
                                        <h5 class="card-title mb-0">Author Meet & Greet</h5>
                                    </div>
                                    <p class="card-text small mb-2">Special event with renowned Indian author Amish Tripathi.</p>
                                    <div class="d-flex justify-content-between align-items-center">
                                        <span class="badge" style="background-color: #FF9933;">Dec 5, 2023</span>
                                        <a href="#" class="btn btn-sm btn-link" style="color: #FF9933;">Details</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Transaction filtering
            const filterButtons = document.querySelectorAll('[data-filter]');
            const transactionRows = document.querySelectorAll('.transaction-row');

            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // Update active button
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    this.classList.add('active');

                    const filterValue = this.getAttribute('data-filter');

                    // Show/hide rows based on filter
                    transactionRows.forEach(row => {
                        if (filterValue === 'all' || row.getAttribute('data-type') === filterValue) {
                            row.style.display = '';
                        } else {
                            row.style.display = 'none';
                        }
                    });
                });
            });
        });
    </script>

    <!-- Staff Members -->
    <div class="row mb-4 fade-in-up" style="animation-delay: 0.7s">
        <div class="col-12">
            <div class="admin-pro-card">
                <div class="admin-pro-card-header d-flex justify-content-between align-items-center">
                    <h3 class="admin-pro-card-title">
                        <i class="fas fa-users me-2 text-info"></i>Staff Members
                    </h3>
                    <div class="admin-pro-card-actions">
                        <div class="input-group me-2" style="width: 200px;">
                            <input type="text" class="form-control form-control-sm" id="staffSearch" placeholder="Search staff...">
                            <button class="btn btn-sm btn-outline-primary" type="button">
                                <i class="fas fa-search"></i>
                            </button>
                        </div>
                        <a href="{% url 'libraries:manage_library_staff' slug=library.slug %}" class="admin-pro-btn admin-pro-btn-sm admin-pro-btn-primary">
                            <i class="fas fa-user-plus"></i> Add Staff
                        </a>
                        <a href="{% url 'libraries:manage_library_staff' slug=library.slug %}" class="admin-pro-btn admin-pro-btn-sm admin-pro-btn-outline">
                            <i class="fas fa-cog"></i> Manage All
                        </a>
                    </div>
                </div>
                <div class="admin-pro-card-body">
                    <div class="row">
                        {% for staff in staff_members_list %}
                            <div class="col-lg-3 col-md-4 col-sm-6 mb-3 staff-card-container">
                                <div class="admin-pro-staff-card">
                                    <div class="admin-pro-staff-status {% if staff.is_active %}active{% else %}inactive{% endif %}"></div>
                                    <div class="admin-pro-staff-header">
                                        <div class="admin-pro-staff-avatar">
                                            {% if staff.profile_picture %}
                                                <img src="{{ staff.profile_picture.url }}" alt="{{ staff.get_full_name }}">
                                            {% else %}
                                                <div class="admin-pro-staff-avatar-placeholder">
                                                    {{ staff.get_initials }}
                                                </div>
                                            {% endif %}
                                        </div>
                                        <div class="admin-pro-staff-info">
                                            <h4 class="admin-pro-staff-name">{{ staff.get_full_name|default:"Staff Member" }}</h4>
                                            <div class="admin-pro-staff-role">
                                                {% if staff.is_library_admin %}
                                                    <span class="admin-pro-badge admin-pro-badge-primary">Library Admin</span>
                                                {% elif staff.is_staff_member %}
                                                    <span class="admin-pro-badge admin-pro-badge-info">Staff</span>
                                                {% else %}
                                                    <span class="admin-pro-badge admin-pro-badge-secondary">Member</span>
                                                {% endif %}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="admin-pro-staff-details">
                                        <div class="admin-pro-staff-detail-item">
                                            <div class="admin-pro-staff-detail-icon">
                                                <i class="fas fa-envelope"></i>
                                            </div>
                                            <div class="admin-pro-staff-detail-content" title="{{ staff.email }}">
                                                {{ staff.email|truncatechars:20 }}
                                            </div>
                                        </div>
                                        {% if staff.phone_number %}
                                            <div class="admin-pro-staff-detail-item">
                                                <div class="admin-pro-staff-detail-icon">
                                                    <i class="fas fa-phone"></i>
                                                </div>
                                                <div class="admin-pro-staff-detail-content">
                                                    {{ staff.phone_number }}
                                                </div>
                                            </div>
                                        {% endif %}
                                        <div class="admin-pro-staff-detail-item">
                                            <div class="admin-pro-staff-detail-icon">
                                                <i class="fas fa-calendar-alt"></i>
                                            </div>
                                            <div class="admin-pro-staff-detail-content">
                                                Joined: {{ staff.date_joined|date:"M d, Y" }}
                                            </div>
                                        </div>
                                    </div>
                                    <div class="admin-pro-staff-stats">
                                        <div class="admin-pro-staff-stat-item">
                                            <div class="admin-pro-staff-stat-value">{{ staff.transactions.count|default:"0" }}</div>
                                            <div class="admin-pro-staff-stat-label">Transactions</div>
                                        </div>
                                        <div class="admin-pro-staff-stat-item">
                                            <div class="admin-pro-staff-stat-value">{{ staff.last_login|date:"M d"|default:"Never" }}</div>
                                            <div class="admin-pro-staff-stat-label">Last Login</div>
                                        </div>
                                    </div>
                                    <div class="admin-pro-staff-actions mt-3">
                                        <a href="{% url 'accounts:user_profile' user_id=staff.id %}" class="admin-pro-btn admin-pro-btn-sm admin-pro-btn-outline">
                                            <i class="fas fa-eye"></i> View
                                        </a>
                                        <a href="{% url 'accounts:user_edit' pk=staff.id %}" class="admin-pro-btn admin-pro-btn-sm admin-pro-btn-primary">
                                            <i class="fas fa-edit"></i> Edit
                                        </a>
                                        <button type="button" class="admin-pro-btn admin-pro-btn-sm admin-pro-btn-outline admin-pro-btn-icon staff-more-actions" title="More Actions">
                                            <i class="fas fa-ellipsis-v"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        {% empty %}
                            <div class="col-12">
                                <div class="admin-pro-empty-state">
                                    <div class="admin-pro-empty-icon">
                                        <i class="fas fa-users"></i>
                                    </div>
                                    <h4>No Staff Members Yet</h4>
                                    <p>Add staff members to help manage your library.</p>
                                    <a href="{% url 'libraries:manage_library_staff' slug=library.slug %}" class="admin-pro-btn admin-pro-btn-primary mt-3">
                                        <i class="fas fa-user-plus me-1"></i> Add Staff
                                    </a>
                                </div>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </div>
        </div>
    </div>

    <style>
        /* Enhanced Staff Card Styling */
        .admin-pro-staff-card {
            position: relative;
            overflow: hidden;
            border-radius: 12px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
            padding: 20px;
            transition: all 0.3s ease;
            height: 100%;
            border: 1px solid var(--bs-gray-200);
            background: white;
        }

        .admin-pro-staff-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
            border-color: var(--bs-primary);
        }

        .admin-pro-staff-status {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }

        .admin-pro-staff-status.active {
            background-color: var(--bs-success);
            box-shadow: 0 0 0 3px rgba(var(--bs-success-rgb), 0.2);
        }

        .admin-pro-staff-status.inactive {
            background-color: var(--bs-danger);
            box-shadow: 0 0 0 3px rgba(var(--bs-danger-rgb), 0.2);
        }

        .admin-pro-staff-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .admin-pro-staff-avatar {
            width: 70px;
            height: 70px;
            margin-right: 15px;
            flex-shrink: 0;
        }

        .admin-pro-staff-avatar img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 50%;
            border: 2px solid var(--bs-primary);
        }

        .admin-pro-staff-avatar-placeholder {
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, var(--bs-primary) 0%, rgba(var(--bs-primary-rgb), 0.8) 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            border-radius: 50%;
            font-size: 24px;
        }

        .admin-pro-staff-info {
            flex: 1;
        }

        .admin-pro-staff-name {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 5px;
            color: var(--bs-gray-800);
        }

        .admin-pro-staff-role {
            font-size: 14px;
            color: var(--bs-gray-600);
        }

        .admin-pro-staff-details {
            margin-bottom: 15px;
            border-top: 1px solid var(--bs-gray-200);
            padding-top: 15px;
        }

        .admin-pro-staff-detail-item {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            font-size: 14px;
            color: var(--bs-gray-700);
        }

        .admin-pro-staff-detail-icon {
            width: 30px;
            height: 30px;
            background: var(--bs-primary-bg-subtle);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            color: var(--bs-primary);
            flex-shrink: 0;
        }

        .admin-pro-staff-detail-content {
            flex: 1;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        .admin-pro-staff-stats {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
            border-top: 1px solid var(--bs-gray-200);
            padding-top: 15px;
        }

        .admin-pro-staff-stat-item {
            text-align: center;
            flex: 1;
        }

        .admin-pro-staff-stat-value {
            font-size: 18px;
            font-weight: 600;
            color: var(--bs-primary);
        }

        .admin-pro-staff-stat-label {
            font-size: 12px;
            color: var(--bs-gray-600);
        }

        .admin-pro-staff-actions {
            display: flex;
            gap: 5px;
        }

        .staff-more-actions {
            margin-left: auto;
        }
    </style>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Staff search functionality
            const staffSearch = document.getElementById('staffSearch');
            const staffCards = document.querySelectorAll('.staff-card-container');

            if (staffSearch) {
                staffSearch.addEventListener('input', function() {
                    const searchTerm = this.value.toLowerCase();

                    staffCards.forEach(card => {
                        const staffName = card.querySelector('.admin-pro-staff-name').textContent.toLowerCase();
                        const staffEmail = card.querySelector('.admin-pro-staff-detail-content').textContent.toLowerCase();

                        if (staffName.includes(searchTerm) || staffEmail.includes(searchTerm)) {
                            card.style.display = '';
                        } else {
                            card.style.display = 'none';
                        }
                    });
                });
            }
        });
    </script>

    <!-- Indian Government Library Initiatives -->
    <div class="row mb-4 fade-in-up" style="animation-delay: 0.75s">
        <div class="col-12">
            <div class="admin-pro-card">
                <div class="admin-pro-card-header d-flex justify-content-between align-items-center" style="border-bottom: 2px solid #138808;">
                    <h3 class="admin-pro-card-title">
                        <i class="fas fa-landmark me-2" style="color: #138808;"></i>भारत सरकार पुस्तकालय पहल (Government Library Initiatives)
                    </h3>
                    <a href="#" class="admin-pro-btn admin-pro-btn-sm admin-pro-btn-outline" style="border-color: #138808; color: #138808;">
                        <i class="fas fa-external-link-alt"></i> View All Programs
                    </a>
                </div>
                <div class="admin-pro-card-body">
                    <div class="row">
                        <div class="col-md-3 mb-3">
                            <div class="card border-0 shadow-sm h-100">
                                <div class="card-body p-3">
                                    <div class="d-flex align-items-center mb-3">
                                        <div class="rounded-circle p-2 me-3" style="background-color: rgba(255, 153, 51, 0.1);">
                                            <i class="fas fa-book-reader fa-lg" style="color: #FF9933;"></i>
                                        </div>
                                        <h5 class="card-title mb-0">National Digital Library</h5>
                                    </div>
                                    <p class="card-text small mb-2">Connect your library to India's National Digital Library for expanded resources.</p>
                                    <div class="d-flex justify-content-between align-items-center">
                                        <span class="badge bg-light text-dark">Status: Not Connected</span>
                                        <a href="#" class="btn btn-sm" style="background-color: #FF9933; color: white;">Connect</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="card border-0 shadow-sm h-100">
                                <div class="card-body p-3">
                                    <div class="d-flex align-items-center mb-3">
                                        <div class="rounded-circle p-2 me-3" style="background-color: rgba(19, 136, 8, 0.1);">
                                            <i class="fas fa-graduation-cap fa-lg" style="color: #138808;"></i>
                                        </div>
                                        <h5 class="card-title mb-0">RRRLF Grants</h5>
                                    </div>
                                    <p class="card-text small mb-2">Raja Rammohun Roy Library Foundation grants for library development.</p>
                                    <div class="d-flex justify-content-between align-items-center">
                                        <span class="badge bg-light text-dark">Status: Eligible</span>
                                        <a href="#" class="btn btn-sm" style="background-color: #138808; color: white;">Apply</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="card border-0 shadow-sm h-100">
                                <div class="card-body p-3">
                                    <div class="d-flex align-items-center mb-3">
                                        <div class="rounded-circle p-2 me-3" style="background-color: rgba(0, 0, 128, 0.1);">
                                            <i class="fas fa-universal-access fa-lg" style="color: #000080;"></i>
                                        </div>
                                        <h5 class="card-title mb-0">Inclusive Library</h5>
                                    </div>
                                    <p class="card-text small mb-2">Make your library accessible to all with government accessibility standards.</p>
                                    <div class="d-flex justify-content-between align-items-center">
                                        <span class="badge bg-light text-dark">Status: In Progress</span>
                                        <a href="#" class="btn btn-sm" style="background-color: #000080; color: white;">Continue</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 mb-3">
                            <div class="card border-0 shadow-sm h-100">
                                <div class="card-body p-3">
                                    <div class="d-flex align-items-center mb-3">
                                        <div class="rounded-circle p-2 me-3" style="background-color: rgba(255, 153, 51, 0.1);">
                                            <i class="fas fa-language fa-lg" style="color: #FF9933;"></i>
                                        </div>
                                        <h5 class="card-title mb-0">Multi-Lingual Program</h5>
                                    </div>
                                    <p class="card-text small mb-2">Support for Indian languages in your library collection and services.</p>
                                    <div class="d-flex justify-content-between align-items-center">
                                        <span class="badge bg-light text-dark">Status: 3/22 Languages</span>
                                        <a href="#" class="btn btn-sm" style="background-color: #FF9933; color: white;">Expand</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Book Status -->
    <div class="row mb-4 fade-in-up" style="animation-delay: 0.8s">
        <div class="col-12">
            <div class="admin-pro-card">
                <div class="admin-pro-card-header d-flex justify-content-between align-items-center">
                    <h3 class="admin-pro-card-title">
                        <i class="fas fa-book-open me-2 text-success"></i>Book Status
                    </h3>
                    <div class="admin-pro-card-actions">
                        <a href="{% url 'books:manage_books' %}" class="admin-pro-btn admin-pro-btn-sm admin-pro-btn-outline">
                            <i class="fas fa-list"></i> All Books
                        </a>
                        <a href="{% url 'books:manage_book_copies' %}" class="admin-pro-btn admin-pro-btn-sm admin-pro-btn-primary">
                            <i class="fas fa-cog"></i> Manage Copies
                        </a>
                    </div>
                </div>
                <div class="admin-pro-card-body">
                    <div class="row">
                        <div class="col-md-3 col-sm-6 mb-3">
                            <div class="admin-pro-status-card success">
                                <div class="admin-pro-status-icon">
                                    <i class="fas fa-check-circle"></i>
                                </div>
                                <div class="admin-pro-status-content">
                                    <h3 class="admin-pro-status-value">{{ available_books }}</h3>
                                    <p class="admin-pro-status-label">Available Books</p>
                                    <div class="admin-pro-status-trend">
                                        <i class="fas fa-arrow-up"></i> {{ available_books_percent|default:"0" }}% of total
                                    </div>
                                </div>
                                <div class="admin-pro-status-progress">
                                    <div class="admin-pro-status-bar success" style="width: {% widthratio available_books total_books 100 %}%;"></div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 col-sm-6 mb-3">
                            <div class="admin-pro-status-card danger">
                                <div class="admin-pro-status-icon">
                                    <i class="fas fa-book-reader"></i>
                                </div>
                                <div class="admin-pro-status-content">
                                    <h3 class="admin-pro-status-value">{{ borrowed_books }}</h3>
                                    <p class="admin-pro-status-label">Borrowed Books</p>
                                    <div class="admin-pro-status-trend">
                                        <i class="fas fa-arrow-up"></i> {{ borrowed_books_percent|default:"0" }}% of total
                                    </div>
                                </div>
                                <div class="admin-pro-status-progress">
                                    <div class="admin-pro-status-bar danger" style="width: {% widthratio borrowed_books total_books 100 %}%;"></div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 col-sm-6 mb-3">
                            <div class="admin-pro-status-card warning">
                                <div class="admin-pro-status-icon">
                                    <i class="fas fa-bookmark"></i>
                                </div>
                                <div class="admin-pro-status-content">
                                    <h3 class="admin-pro-status-value">{{ reserved_books }}</h3>
                                    <p class="admin-pro-status-label">Reserved Books</p>
                                    <div class="admin-pro-status-trend">
                                        <i class="fas fa-arrow-up"></i> {{ reserved_books_percent|default:"0" }}% of total
                                    </div>
                                </div>
                                <div class="admin-pro-status-progress">
                                    <div class="admin-pro-status-bar warning" style="width: {% widthratio reserved_books total_books 100 %}%;"></div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-3 col-sm-6 mb-3">
                            <div class="admin-pro-status-card info">
                                <div class="admin-pro-status-icon">
                                    <i class="fas fa-tools"></i>
                                </div>
                                <div class="admin-pro-status-content">
                                    <h3 class="admin-pro-status-value">{{ maintenance_books }}</h3>
                                    <p class="admin-pro-status-label">In Maintenance</p>
                                    <div class="admin-pro-status-trend">
                                        <i class="fas fa-arrow-up"></i> {{ maintenance_books_percent|default:"0" }}% of total
                                    </div>
                                </div>
                                <div class="admin-pro-status-progress">
                                    <div class="admin-pro-status-bar info" style="width: {% widthratio maintenance_books total_books 100 %}%;"></div>
                                </div>
                            </div>
                        </div>
                    </div>


                </div>
            </div>
        </div>
    </div>

    <style>
        /* Enhanced Status Card Styling */
        .admin-pro-status-card {
            position: relative;
            border-radius: 12px;
            padding: 20px;
            height: 100%;
            overflow: hidden;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
        }

        .admin-pro-status-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0, 0, 0, 0.1);
        }

        .admin-pro-status-card.success {
            background: linear-gradient(135deg, rgba(40, 167, 69, 0.1) 0%, rgba(40, 167, 69, 0.05) 100%);
            border-left: 4px solid #28a745;
        }

        .admin-pro-status-card.danger {
            background: linear-gradient(135deg, rgba(220, 53, 69, 0.1) 0%, rgba(220, 53, 69, 0.05) 100%);
            border-left: 4px solid #dc3545;
        }

        .admin-pro-status-card.warning {
            background: linear-gradient(135deg, rgba(255, 193, 7, 0.1) 0%, rgba(255, 193, 7, 0.05) 100%);
            border-left: 4px solid #ffc107;
        }

        .admin-pro-status-card.info {
            background: linear-gradient(135deg, rgba(23, 162, 184, 0.1) 0%, rgba(23, 162, 184, 0.05) 100%);
            border-left: 4px solid #17a2b8;
        }

        .admin-pro-status-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            margin-bottom: 15px;
        }

        .admin-pro-status-card.success .admin-pro-status-icon {
            background-color: rgba(40, 167, 69, 0.2);
            color: #28a745;
        }

        .admin-pro-status-card.danger .admin-pro-status-icon {
            background-color: rgba(220, 53, 69, 0.2);
            color: #dc3545;
        }

        .admin-pro-status-card.warning .admin-pro-status-icon {
            background-color: rgba(255, 193, 7, 0.2);
            color: #ffc107;
        }

        .admin-pro-status-card.info .admin-pro-status-icon {
            background-color: rgba(23, 162, 184, 0.2);
            color: #17a2b8;
        }

        .admin-pro-status-content {
            flex: 1;
            margin-bottom: 15px;
        }

        .admin-pro-status-value {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 5px;
            line-height: 1;
        }

        .admin-pro-status-card.success .admin-pro-status-value {
            color: #28a745;
        }

        .admin-pro-status-card.danger .admin-pro-status-value {
            color: #dc3545;
        }

        .admin-pro-status-card.warning .admin-pro-status-value {
            color: #ffc107;
        }

        .admin-pro-status-card.info .admin-pro-status-value {
            color: #17a2b8;
        }

        .admin-pro-status-label {
            font-size: 14px;
            color: var(--bs-gray-700);
            margin-bottom: 5px;
        }

        .admin-pro-status-trend {
            font-size: 12px;
            display: flex;
            align-items: center;
            color: var(--bs-gray-600);
        }

        .admin-pro-status-trend i {
            margin-right: 5px;
        }

        .admin-pro-status-progress {
            height: 6px;
            background-color: rgba(0, 0, 0, 0.05);
            border-radius: 3px;
            overflow: hidden;
        }

        .admin-pro-status-bar {
            height: 100%;
            border-radius: 3px;
        }

        .admin-pro-status-bar.success {
            background-color: #28a745;
        }

        .admin-pro-status-bar.danger {
            background-color: #dc3545;
        }

        .admin-pro-status-bar.warning {
            background-color: #ffc107;
        }

        .admin-pro-status-bar.info {
            background-color: #17a2b8;
        }


    </style>


    <!-- Indian Cultural Footer -->
    <div class="row mb-4 fade-in-up" style="animation-delay: 0.9s">
        <div class="col-12">
            <div class="card border-0" style="background: transparent;">
                <div class="card-body text-center">
                    <!-- Indian Decorative Pattern -->
                    <div style="height: 20px; margin-bottom: 15px; background-image: url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"12\" viewBox=\"0 0 40 12\"><path d=\"M0,6 C10,0 10,12 20,6 C30,0 30,12 40,6\" fill=\"none\" stroke=\"%23FF9933\" stroke-width=\"1\"/></svg>'); background-repeat: repeat-x;"></div>

                    <!-- Indian Quote -->
                    <p class="mb-3" style="font-style: italic; color: #555;">
                        "पुस्तकालय ज्ञान का मंदिर है" - Knowledge is the temple of wisdom
                    </p>

                    <!-- Indian Flag Colors -->
                    <div class="d-flex justify-content-center mb-3">
                        <div style="width: 30px; height: 3px; background-color: #FF9933;"></div>
                        <div style="width: 30px; height: 3px; background-color: #FFFFFF; border: 1px solid #ddd;"></div>
                        <div style="width: 30px; height: 3px; background-color: #138808;"></div>
                    </div>

                    <!-- Made in India -->
                    <p class="small text-muted mb-0">
                        <span style="color: #FF9933;">Satyameva</span> <span style="color: #000080;">Jayate</span> <span style="color: #138808;">.</span> Made with <i class="fas fa-heart" style="color: #FF9933;"></i> in India
                    </p>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    // Initialize animations
    const elements = document.querySelectorAll('.fade-in-up, .fade-in-left, .fade-in-right, .scale-in');
    elements.forEach(element => {
        const delay = element.getAttribute('style') ?
            parseFloat(element.style.animationDelay.replace('s', '')) * 1000 : 0;

        setTimeout(() => {
            element.classList.add('animated');
        }, delay);
    });

    // Counter animation for statistics
    const counterElements = document.querySelectorAll('.admin-pro-stats-value');
    counterElements.forEach(counter => {
        const target = parseInt(counter.textContent, 10);
        let count = 0;
        const duration = 2000; // 2 seconds
        const frameDuration = 1000 / 60; // 60fps
        const totalFrames = Math.round(duration / frameDuration);
        const increment = target / totalFrames;

        const animate = () => {
            count += increment;
            if (count < target) {
                counter.textContent = Math.floor(count);
                requestAnimationFrame(animate);
            } else {
                counter.textContent = target;
            }
        };

        animate();
    });
});
</script>
{% endblock %}
